{"version":3,"sources":["reportWebVitals.js","account/AuthContext.js","settings/firebaseConfig.js","ui/AppMenu.js","homepage/background.jpg","homepage/homepage.js","ui/Upload.js","product/ProductAdd.js","product/ProductList.js","employee/EmployeeList.js","newpage/newpage.js","complete/CompleteList.js","account/SignUp.js","account/SignIn.js","account/SignOut.js","ui/Main.js","userorder/UserOrder.js","AppRouter.js","serviceWorkerRegistration.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","STATUS","AuthContext","React","createContext","status","setStatus","newStatus","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","getAnalytics","AppMenu","useState","setIsLoading","userss","setUsersss","db","getFirestore","authContext","useContext","user","getAuth","currentUser","email","uid","console","log","useEffect","a","citiesRef","collection","getDocs","query","where","q","tempU","forEach","doc","id","data","push","useremail","userauth","username","readData","Box","sx","width","borderBottom","borderColor","Tabs","variant","scrollButtons","allowScrollButtonsMobile","Tab","component","NavLink","to","label","color","icon","iconPosition","map","usersa","Homepage","maxWidth","bgcolor","rel","href","src","BellOutline","content","style","height","Background","ImageUpload","storage","getStorage","message","setMessage","setImages","loaded","setLoaded","handleUpload","e","target","files","imageRef","ref","name","uploadBytes","getDownloadURL","url","currentValue","code","listRef","listAll","result","items","image","currentImages","img","title","readImage","Input","type","accept","onChange","ProductAdd","props","bfname","bfprice","bfimage","bfdesc","product","setProduct","handleClick","value","update","addDoc","parseInt","docRef","Swal","fire","open","setOpen","handleClickOpen","handleClose","List","Fab","onClick","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","FormHelperText","DialogActions","Button","ProductList","cartAdd","empty","querySnapshot","docII","temppp","Math","max","docId","toString","cartid","carid","setDoc","ctaddress","ctstate","bfquantity","text","maxid","cartttRef","products","setProducts","temp","onSnapshot","deleted","setDeleted","deleteData","deleteDoc","edit","productid","updateDoc","setProductid","editButton","isLoading","ImList","Stack","spacing","index","Card","CardMedia","CardContent","divider","Typography","gutterBottom","CardActions","startIcon","borderRadius","CircularProgress","newProduct","oldProducts","EmployeeList","selectedIndex","setSelectedIndex","minus","employee","DocId","setTotal","total","plus","send","auth","acemail","address","orderAddress","state","cost","docRef2","setDocId","employees","snapshot","old_total","setorderAddress","Emp","padding","fontSize","description","ListItem","handleListItemClick","selected","ListItemText","primary","secondary","size","Tooltip","IconButton","edge","endIcon","backgroundColor","textAlign","Newpage","setstring","tempu","strr","citiesRefi","querySnapshoti","tempudetail","docs","productsr","current","edit2","Imfor","Accordion","AccordionSummary","expandIcon","AccordionDetails","buyy","direction","Erro2","round","Alert","severity","SignUp","getApps","length","password","displayName","account","setAccount","handleChange","handleSubmit","createUserWithEmailAndPassword","updateProfile","confirmButtonText","showCancelButton","showConfirmButton","cancelButtonText","RedBar","theme","palette","mode","m","noValidate","autoComplete","display","justifyContent","alignItems","p","Avatar","align","TextField","placeholder","SignIn","signInWithEmailAndPassword","SignOut","users","setUsername","signOut","stringToColor","string","i","hash","charCodeAt","substr","C","Chip","avatar","children","split","Main","Erro","AppRouter","Provider","path","element","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","createTheme","main","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.d546d314.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\n\r\nexport const STATUS = {\r\n  toSignIn: 1,\r\n  toSignOut: 2,\r\n  toSignUp: 0,\r\n};\r\n\r\nexport const AuthContext = React.createContext({\r\n    status: STATUS.toSignIn,setStatus:(newStatus)=>{this.status=newStatus}\r\n\r\n  })\r\n\r\n/*\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n*/","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const config = {\r\n  apiKey: \"AIzaSyB3EuucPFsW92-c8eyA1Mdhnpczdzz4qro\",\r\n  authDomain: \"appcart-39b32.firebaseapp.com\",\r\n  projectId: \"appcart-39b32\",\r\n  storageBucket: \"appcart-39b32.appspot.com\",\r\n  messagingSenderId: \"334869830598\",\r\n  appId: \"1:334869830598:web:163b837129f1b5c4f070c7\",\r\n  measurementId: \"G-Q2XLR6R1QL\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(config);\r\nconst analytics = getAnalytics(app);","import {React,useEffect} from 'react';\r\nimport {Tabs, Tab, Box } from '@mui/material';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport { collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport {useState,useContext} from 'react';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport CookieIcon from '@mui/icons-material/Cookie';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport SentimentVerySatisfiedIcon from '@mui/icons-material/SentimentVerySatisfied';\r\nimport SentimentVeryDissatisfiedIcon from '@mui/icons-material/SentimentVeryDissatisfied';\r\nimport Home from '@mui/icons-material/Home';\r\nimport { getAuth} from \"firebase/auth\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport HistoryIcon from '@mui/icons-material/History';\r\nexport default function AppMenu() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [userss,setUsersss]=useState([]);\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  const authContext = useContext(AuthContext);\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n  if(user) {\r\n    // 使用者已登入，可以取得資料\r\n    var email = user.email;\r\n    var uid = user.uid;\r\n    console.log(\"loginemail:\"+email);\r\n  } else {\r\n    console.log(\"沒有登入\");\r\n    // 使用者未登入\r\n  }\r\n  useEffect(()=>{\r\n\r\n    async function readData() {\r\n      //var citiesRef = collection(db, \"product\");\r\n      //const q = await getDocs(query(citiesRef, where(\"price\", \">=\", 10000)));\r\n      setIsLoading(true);\r\n      var citiesRef = collection(db, \"user\");\r\n      const q = await getDocs(query(citiesRef, where(\"useremail\", \"==\", user.email)));\r\n\r\n      const tempU = [];\r\n     //q.foreach(doc) => ........\r\n      q.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n        console.log(doc.id, \" => \", doc.data());\r\n        tempU.push({useremail:doc.data().useremail, userauth:doc.data().userauth,username:doc.data().username});\r\n      });\r\n\r\n      console.log(tempU);\r\n      setUsersss([...tempU]);\r\n      setIsLoading(false);\r\n    }\r\n\r\n    readData();\r\n\r\n  },[db]);\r\n  return (\r\n    \r\n    <Box sx={{ width: 360 }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n    <Tabs \r\n      variant=\"scrollable\"\r\n      scrollButtons\r\n      allowScrollButtonsMobile\r\n      aria-label=\"icon position tabs example\"\r\n    >   \r\n        <Tab component={NavLink} to='/homepage' label=\"HOME\"  color=\"inherit\" icon={<HomeIcon/>} iconPosition=\"start\"/>\r\n        \r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n        <Tab component={NavLink} to='/product' label=\"MENU\"  color=\"inherit\" icon={<MenuIcon/>} iconPosition=\"start\"/>\r\n        }\r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/employee'  label=\"cart\" color=\"inherit\" icon={<ShoppingCartIcon/>} iconPosition=\"start\"/>\r\n        }\r\n        {userss.map((usersa) => \r\n          <Box >\r\n          {(usersa.userauth!=\"1\")?\r\n          <Box></Box>:\r\n          <Box>\r\n            {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/newpage' label=\"Order\"  color=\"inherit\" icon={<CookieIcon/>} iconPosition=\"start\"/>\r\n        }\r\n          </Box>\r\n          }\r\n          </Box>\r\n          )}\r\n        {userss.map((usersa) => \r\n          <Box >\r\n          {(usersa.userauth!=\"1\")?\r\n          <Box></Box>:\r\n          <Box>\r\n            {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/complete' label=\"Completed\"  color=\"inherit\" icon={<CheckIcon/>} iconPosition=\"start\"/>\r\n        }\r\n          </Box>\r\n          }\r\n          </Box>\r\n          )}\r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n        <Tab component={NavLink} to='/userorder' label=\"History\"  color=\"inherit\" icon={<HistoryIcon/>} iconPosition=\"start\"/>\r\n        }\r\n        {authContext.status===STATUS.toSignOut?\r\n        <Tab component={NavLink}  to='/' label=\"logout\"  color=\"inherit\" icon={<SentimentVeryDissatisfiedIcon/>} iconPosition=\"start\"/>\r\n        :\r\n        <Tab component={NavLink}  to='/' label=\"login\"  color=\"inherit\" icon={<SentimentVerySatisfiedIcon/>} iconPosition=\"start\"/>\r\n      }\r\n      \r\n    </Tabs>\r\n    </Box>\r\n    </Box>\r\n\r\n  )\r\n\r\n}\r\n\r\n/*\r\n    <div>\r\n      <AppMenu/>\r\n      {authContext.status===STATUS.toSignOut?\r\n      <Tab component={NavLink}  to='/' label=\"logout\"  color=\"inherit\"/>\r\n      :\r\n      <Tab component={NavLink}  to='/' label=\"login\"  color=\"inherit\"/>\r\n      }\r\n      \r\n    </div>\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n*/","export default __webpack_public_path__ + \"static/media/background.32c6d77b.jpg\";","import React, {useState} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport Background from './background.jpg';\r\nimport { NoticeBar, Space } from 'antd-mobile';\r\nimport { height } from '@mui/system';\r\nimport { SmileOutline,BellOutline} from 'antd-mobile-icons';\r\nimport { CapsuleTabs } from 'antd-mobile';\r\n\r\nexport default function Homepage() {\r\n  \r\n  \r\n\r\n    return (\r\n      \r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n        <link rel=\"stylesheet\" href=\"https://unpkg.com/element-ui/lib/theme-chalk/index.css\"></link>\r\n<script src=\"https://unpkg.com/element-ui/lib/index.js\"></script>\r\n        \r\n        <NoticeBar icon={<BellOutline />} content=\"注意！新產品：微笑薯餅即將上市！感謝你的注意！\" color='info' />\r\n        <link href=\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\" rel=\"stylesheet\"></link>\r\n    <img style={{ height: 360 }} src={Background} />\r\n    </Box>\r\n  );\r\n\r\n}","import React, {useState, useEffect} from 'react';\r\nimport { getStorage, getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\r\nimport { listAll } from \"firebase/storage\";\r\nimport {Box, Input} from '@mui/material';\r\nimport {ImageList, ImageListItem} from '@mui/material';\r\n\r\nexport default function ImageUpload() {\r\n  const storage = getStorage();\r\n  const [message, setMessage] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [loaded, setLoaded] = useState(0); //add 1 when loaded\r\n\r\n  const handleUpload = async function(e){\r\n    console.log(e.target.files[0]);\r\n    try{\r\n      setMessage(\"\");\r\n      // Create a reference to the image\r\n      const imageRef = ref(storage,e.target.files[0].name);\r\n      await uploadBytes(imageRef, e.target.files[0]);\r\n      console.log('Uploaded a blob or file!');\r\n      const url = await getDownloadURL(imageRef);\r\n      console.log(url);\r\n      setLoaded((currentValue)=>currentValue+1);\r\n    }\r\n\r\n    catch(error){\r\n      console.log(error.code);\r\n      if (error.code === \"storage/unauthorized\"){\r\n        setMessage(\"尚未登入\");\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    async function readImage() {\r\n      try {\r\n        setMessage(\"waiting...\");\r\n        const listRef = ref(storage, '/');\r\n        const result = await listAll(listRef);\r\n        setImages([]);\r\n        result.items.forEach(async (image) => {         \r\n          let url = await getDownloadURL(image);\r\n          setImages((currentImages)=>[...currentImages,{img:url, title:image.name}]);\r\n        });  \r\n        setMessage(\"\");\r\n      }\r\n\r\n      catch(error){\r\n        setMessage(error);\r\n        console.log(error);\r\n      }\r\n\r\n    }\r\n    readImage();\r\n  },[storage, loaded]);\r\n\r\n\r\n\r\n  return (\r\n    <Box>\r\n      <Input type=\"file\" accept=\"image/x-png,image/jpeg\" onChange={handleUpload}/>\r\n      <br/>{message}\r\n      \r\n      \r\n    </Box>\r\n\r\n  )\r\n\r\n}","import React, {useState,useEffect,useContext} from 'react';\r\nimport {Input, Box, Dialog, Button, Fab} from '@mui/material';\r\nimport { collection, addDoc,setDoc,doc,getFirestore,getDocs,query,where } from \"firebase/firestore\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport TextField from '@mui/material/TextField';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport Upload from '../ui/Upload';\r\nimport Swal from 'sweetalert2';\r\nimport { getAuth} from \"firebase/auth\";\r\nimport {List} from '@mui/material';\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\nexport default function ProductAdd(props) {\r\n  const authContext = useContext(AuthContext);\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n  if(user) {\r\n    // 使用者已登入，可以取得資料\r\n    var email = user.email;\r\n    var uid = user.uid;\r\n    console.log(\"loginemail:\"+email);\r\n  } else {\r\n    console.log(\"沒有登入\");\r\n    // 使用者未登入\r\n  }\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [userss,setUsersss]=useState([]);\r\n  useEffect(()=>{\r\n\r\n    async function readData() {\r\n      //var citiesRef = collection(db, \"product\");\r\n      //const q = await getDocs(query(citiesRef, where(\"price\", \">=\", 10000)));\r\n      setIsLoading(true);\r\n      var citiesRef = collection(db, \"user\");\r\n      const q = await getDocs(query(citiesRef, where(\"useremail\", \"==\", user.email)));\r\n\r\n      const tempU = [];\r\n     //q.foreach(doc) => ........\r\n      q.forEach((doc) => {\r\n      // doc.data() is never undefined for query doc snapshots\r\n        console.log(doc.id, \" => \", doc.data());\r\n        tempU.push({useremail:doc.data().useremail, userauth:doc.data().userauth,username:doc.data().username});\r\n      });\r\n\r\n      console.log(tempU);\r\n      setUsersss([...tempU]);\r\n      setIsLoading(false);\r\n    }\r\n\r\n    readData();\r\n\r\n  },[db]);\r\n  const [product, setProduct] = useState({bfname:\"\",bfprice:0,bfimage:\"\",bfdesc:\"\"})\r\n\r\n  const handleClick = function(e){\r\n    setProduct({...product,[e.target.name]:e.target.value})\r\n  }\r\n  \r\n  const update = async function(){\r\n    try{\r\n      const docRef = await addDoc(collection(db,\"breakfast\"),{\r\n        bfprice:parseInt(product.bfprice),\r\n        bfimage:change(product.bfimage),\r\n        bfname:product.bfname,\r\n        bfdesc:product.bfdesc\r\n        });\r\n      console.log(docRef.id);\r\n    }\r\n\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n    props.update(product);\r\n    Swal.fire({\r\n      icon: 'success',\r\n      title: '新增成功，請重新刷新頁面'\r\n    })\r\n    \r\n  }\r\n  function change(a)\r\n  {\r\n    return(\"https://firebasestorage.googleapis.com/v0/b/appcart-39b32.appspot.com/o/\"+a+\"?alt=media\");\r\n  }\r\n  \r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      {userss.map((usersa) => \r\n          <Box>\r\n          {(usersa.userauth!=\"1\")?\r\n          <Box></Box>:\r\n          <List>\r\n          <Fab color=\"primary\" aria-label=\"Add\" onClick={handleClickOpen}>\r\n      +\r\n      </Fab>\r\n      </List>\r\n          }\r\n          </Box>\r\n      )}\r\n      \r\n<Dialog open={open} onClose={handleClose}>\r\n<DialogTitle id=\"alert-dialog-title\">{\"新增產品\"}\r\n</DialogTitle>\r\n<DialogContent>\r\n<DialogContentText id=\"alert-dialog-description\">\r\n產品名稱:<Input type=\"text\" name=\"bfname\" value={product.bfname} onChange={handleClick}/><br/>\r\n產品價格:<Input type=\"number\" name=\"bfprice\" value={product.bfprice} onChange={handleClick}/><br/>\r\n產品敘述:<Input type=\"text\" name=\"bfdesc\" value={product.bfdesc} onChange={handleClick}/><br/>\r\n圖片檔名:<Input type=\"text\" name=\"bfimage\" value={product.bfimage} onChange={handleClick}/><br/>\r\n\r\n<FormHelperText id=\"outlined-weight-helper-text\">請完整輸入檔名(例：微笑薯餅.jpg)</FormHelperText>\r\n<Upload/>\r\n</DialogContentText>\r\n</DialogContent>\r\n<DialogActions>\r\n<Button variant=\"contained\" color=\"primary\" onClick={update}>新增</Button>\r\n<Button onClick={handleClose}>關閉</Button>\r\n</DialogActions>\r\n</Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import ProductAdd from './ProductAdd'\r\nimport ImageList from '@mui/material/ImageList';\r\nimport ImageListItem from '@mui/material/ImageListItem';\r\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\r\nimport React, {useState,useEffect,useContext} from 'react';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {Box,List,ListItemIcon,ListItemButton,ListItemText,Button, ListItem,CircularProgress,IconButton} from '@mui/material';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport DeleteOutlinedIcon from '@mui/icons-material/DeleteOutlined';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport Input from '@mui/material/Input';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport AppMenu from '../ui/AppMenu';\r\nimport {config} from '../settings/firebaseConfig';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport Edit from '@mui/icons-material/Edit';\r\nimport ImageUpload from '../ui/ImageUpload';\r\nimport Icon from '@mui/material/Icon';\r\nimport TextField from '@mui/material/TextField';\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Stack from '@mui/material/Stack';\r\nimport { getAuth} from \"firebase/auth\";\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n\r\n\r\n\r\nexport default function ProductList() {\r\n  const firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\nconsole.log(\"db_line43:\"+db);\r\n\r\n// 先拿帳號出來\r\nconst auth = getAuth();\r\nconst user = auth.currentUser;\r\nif(user) {\r\n  // 使用者已登入，可以取得資料\r\n  var email = user.email;\r\n  var uid = user.uid;\r\n  console.log(\"email:\"+email);\r\n} else {\r\n  console.log(\"沒登入\");\r\n  // 使用者未登入\r\n}\r\n\r\n// 收集表格：搜尋登入的email有沒有ctstate==0的購物車\r\nconst cartAdd = async function(bfname,bfprice){\r\n  //console.log(user);\r\n  const q = query(collection(db,\"cart\"),where(\"ctstate\", \"==\", 0),where(\"useremail\",\"==\",user.email));\r\n  const snapshot = await getDocs(query(q) );\r\n  //console.log(\"db_line64:\"+db);\r\n  //console.log(\"bfname:\",bfname,\",email:\",user.email);\r\n  \r\n  if (snapshot.empty==true) { \r\n  // 如果「沒有」待結帳的商品：最大cart_id++，並把商品加入該cart的ctcontent\r\n    //抓一下最大id\r\n    const querySnapshot = await getDocs(collection(db,\"cart\"));\r\n    //console.log(\"querySnapshot:\"+querySnapshot);\r\n    let docId=0;\r\n    let docRef=0;\r\n    let docII = 0;\r\n    const temppp=[];\r\n    querySnapshot.forEach((doc) => {\r\n        temppp.push(parseInt(doc.id));\r\n        docII = Math.max(...temppp);\r\n      });\r\n      docId = docII.toString();\r\n    const cartid = parseInt(docId) +1;\r\n    //console.log(\"cartid:\"+cartid);\r\n    const carid = cartid.toString();\r\n    //console.log(\"Line84_carid:\"+carid);\r\n    try{\r\n      await setDoc(doc(db, \"cart\", carid), {\r\n        ctaddress:\"\",\r\n        ctstate: 0,\r\n        useremail: email\r\n      });\r\n      //console.log(\"line89:\"+cartid);\r\n      //加ctcontents\r\n        docRef = doc(db,\"cart\",carid );\r\n      const cartttRef = await addDoc(collection(docRef,\"ctcontent\"),{\r\n        bfname: bfname,\r\n        bfprice:bfprice,\r\n        bfquantity: 1,\r\n        useremail: email\r\n        });\r\n        //console.log(cartttRef.id);\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: '已加入購物車！',\r\n          text: '請至您的購物車內確認'\r\n        })\r\n\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n  }\r\n  else{\r\n  // 如果「有｣待結帳的商品：選定該cart，並加入content\r\n    console.log(\"db_line93:\"+db);\r\n    console.log(\"useremail:\"+user.email);\r\n    const maxid = await getDocs(query(collection(db,\"cart\"),\r\n                                      where(\"useremail\",\"==\",user.email)) );\r\n    let docRef=0;\r\n    let docId=0;\r\n    let docII =0;\r\n    const temppp=[];\r\n    console.log(maxid);\r\n    maxid.forEach((doc)=>{\r\n      console.log(doc.id, \" => \", doc.data());\r\n      temppp.push(parseInt(doc.id));\r\n      docRef = doc;\r\n      docII = Math.max(...temppp);\r\n    });\r\n    docId = docII.toString();\r\n    console.log(docId);\r\n    try{\r\n\r\n      docRef = doc(db,\"cart\",docId );\r\n      const cartttRef = await addDoc(collection(docRef,\"ctcontent\"),{\r\n        bfname: bfname,\r\n        bfprice:bfprice,\r\n        bfquantity: 1,\r\n        useremail: email\r\n        });\r\n        console.log(cartttRef.id);\r\n\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: '已加入購物車！',\r\n          text: '請至您的購物車內確認'\r\n        })\r\n\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n  }\r\n\r\n}\r\n\r\n\r\n    const authContext = useContext(AuthContext);\r\n    const[selectedIndex,setSelectedIndex]=React.useState(1);\r\n\r\n    const handleListItemClick = (event, index) => {\r\n        setSelectedIndex(index);\r\n      };\r\n    const [products,setProducts]=useState([]);\r\n      useEffect(()=>{\r\n\r\n        async function readData() {\r\n          //var citiesRef = collection(db, \"product\");\r\n          //const q = await getDocs(query(citiesRef, where(\"price\", \">=\", 10000)));\r\n          setIsLoading(true);\r\n          const querySnapshot = await getDocs(collection(db, \"breakfast\"));\r\n    \r\n          const temp = [];\r\n         //q.foreach(doc) => ........\r\n          querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n            console.log(doc.id, \" => \", doc.data());\r\n            temp.push({id:doc.id,bfdesc:doc.data().bfdesc,bfname:doc.data().bfname, bfprice:doc.data().bfprice,bfimage:doc.data().bfimage});\r\n          });\r\n    \r\n          console.log(temp);\r\n          setProducts([...temp]);\r\n          setIsLoading(false);\r\n        }\r\n    \r\n        readData();\r\n    \r\n      },[db]);\r\n      const [userss,setUsersss]=useState([]);\r\n      useEffect(()=>{\r\n\r\n        async function readData() {\r\n          //var citiesRef = collection(db, \"product\");\r\n          //const q = await getDocs(query(citiesRef, where(\"price\", \">=\", 10000)));\r\n          setIsLoading(true);\r\n          var citiesRef = collection(db, \"user\");\r\n          const q = await getDocs(query(citiesRef, where(\"useremail\", \"==\", user.email)));\r\n    \r\n          const tempU = [];\r\n         //q.foreach(doc) => ........\r\n          q.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n            console.log(doc.id, \" => \", doc.data());\r\n            tempU.push({useremail:doc.data().useremail, userauth:doc.data().userauth,username:doc.data().username});\r\n          });\r\n    \r\n          console.log(tempU);\r\n          setUsersss([...tempU]);\r\n          setIsLoading(false);\r\n        }\r\n    \r\n        readData();\r\n    \r\n      },[db]);\r\n      {userss.map((usersa) =>\r\n        console.log(usersa.userauth)\r\n        )}\r\n      const unsub = onSnapshot(doc(db, \"breakfast\", \"SF\"), (doc) => {\r\n        console.log(\"Current data: \", doc.data());\r\n      });\r\n\r\n   const [open, setOpen] = React.useState(false);\r\n\r\n   const handleClickOpen = () => {\r\n     setOpen(true);\r\n   };\r\n \r\n   const handleClose = () => {\r\n     setOpen(false);\r\n   };\r\n\r\n   \r\n\r\n  const insert = function(newProduct){\r\n      setProducts(oldProducts=>[...oldProducts, newProduct]);\r\n    \r\n  }\r\n\r\n\r\nconst [deleted,setDeleted]=useState([]);\r\n\r\nconst deleteData = async function(id){\r\n\r\n  try{\r\n    setIsLoading(true);\r\n    await deleteDoc(doc(db, \"breakfast\", id));\r\n    //console.log(\"deleted\");\r\n    setDeleted(deleted+1);\r\n    setIsLoading(false);\r\n    Swal.fire({\r\n      icon: 'success',\r\n      title: '刪除成功，請重新刷新頁面'\r\n    })\r\n  }\r\n  catch (error){\r\n    console.log(error);\r\n  }\r\n\r\n}\r\n\r\nconst [product, setProduct] = useState({bfname:\"\",bfprice:0,bfimage:\"\",bfdesc:\"\"})\r\nconst handleClick = function(e){\r\n  setProduct({...product,[e.target.name]:e.target.value})\r\n}\r\nconst edit = async function(product){\r\n  try{\r\n    console.log(productid);\r\n    await updateDoc(doc(db,\"breakfast\",productid),{\r\n      bfprice:parseInt(product.bfprice),\r\n      bfname:product.bfname,\r\n      bfdesc:product.bfdesc\r\n    });\r\n    Swal.fire({\r\n      icon: 'success',\r\n      title: '編輯成功，請重新刷新頁面'\r\n    })\r\n  }\r\n\r\n  catch(e){\r\n    console.log(e);\r\n  }\r\n  \r\n}\r\n\r\nconst[productid,setProductid]=useState(0);\r\nconst editButton =  function(product){\r\n  handleClickOpen();\r\n  setProductid(product.id); \r\n}\r\n\r\n\r\n \r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const ImList=function(){\r\n    return(\r\n      <Stack sx={{ width: '100%' ,maxWidth: 360}} spacing={2} >\r\n        {products.map((product, index) => \r\n        <Card>\r\n          <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={product.bfimage}\r\n          />\r\n       <CardContent divider key={index}>\r\n        \r\n       <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n         {product.bfname}\r\n       </Typography>\r\n       <Typography variant=\"body2\" color=\"text.secondary\">\r\n         {product.bfdesc}<br/>\r\n         {\"NT$\"+product.bfprice}\r\n       </Typography>\r\n       </CardContent>\r\n          <CardActions>\r\n          <Box>\r\n            <Button onClick={()=>cartAdd(product.bfname,product.bfprice)}  variant=\"contained\" startIcon={<ShoppingCartIcon/>} color=\"secondary\">加入購物車</Button>\r\n          </Box>\r\n          {userss.map((usersa) => \r\n          <Box >\r\n          {(usersa.userauth!=\"1\")?\r\n          <Box></Box>:\r\n            <Button style={{borderRadius:50}} onClick={()=>editButton(product)} variant=\"contained\" startIcon={<Edit/>} color=\"primary\" >編輯</Button>\r\n            \r\n          }\r\n          </Box>\r\n          )}\r\n          {userss.map((usersa) => \r\n          <Box >\r\n          {(usersa.userauth!=\"1\")?\r\n          <Box></Box>:\r\n          <Button style={{borderRadius:50}} onClick={()=>deleteData(product.id)} variant=\"contained\" startIcon={<DeleteIcon/>} color=\"primary\" >刪除</Button>\r\n            \r\n          }\r\n          </Box>\r\n          )}\r\n          \r\n          </CardActions>\r\n     \r\n     </Card>\r\n      )}\r\n      </Stack>\r\n    )\r\n  }\r\n  \r\n  \r\n\r\n  return (\r\n<Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n\r\n<AppMenu/>\r\n\r\n{!isLoading ?\r\n<ImList/>\r\n :\r\n<CircularProgress />\r\n\r\n}\r\n\r\n<Dialog open={open} onClose={handleClose}>\r\n<DialogTitle id=\"alert-dialog-title\">{\"修改產品\"}\r\n</DialogTitle>\r\n<DialogContent>\r\n產品描述:<Input type=\"text\" name=\"bfname\" value={product.bfname} onChange={handleClick} /><br/>\r\n產品價格:<Input type=\"number\" name=\"bfprice\" value={product.bfprice} onChange={handleClick}/><br/>\r\n產品敘述:\r\n<Input type = \"text\" name = \"bfdesc\" value={product.bfdesc} onChange={handleClick}/>\r\n</DialogContent>\r\n<DialogActions>\r\n<Button variant=\"contained\" color=\"primary\" onClick={()=>edit(product)}>編輯</Button>\r\n<Button onClick={handleClose}>關閉</Button>\r\n</DialogActions>\r\n</Dialog>\r\n\r\n\r\n\r\n<ProductAdd update={insert}/>\r\n\r\n    \r\n    </Box>\r\n  );\r\n  \r\n\r\n}","import React, {useState,useEffect,useContext} from 'react';\r\nimport { Box, List, ListItem,Dialog,Input, ListItemText,CircularProgress} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {IconButton} from '@mui/material';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport Button from '@mui/material/Button';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {config} from '../settings/firebaseConfig';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore,collection ,getDocs,doc,setDoc,addDoc,\r\n   onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport { getAuth} from \"firebase/auth\";\r\nimport Swal from 'sweetalert2';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport CheckBoxIcon from '@mui/icons-material/CheckBox';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport { Empty } from 'antd-mobile';\r\nimport AddReactionIcon from '@mui/icons-material/AddReaction';\r\n\r\nexport default function EmployeeList() {\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  const authContext = useContext(AuthContext);\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  var Sum=0;\r\n  const[selectedIndex,setSelectedIndex]=React.useState(1);\r\n  //試寫\r\n      // 先拿帳號出來\r\n    const auth = getAuth();\r\n    const user = auth.currentUser;\r\n    if(user) {\r\n      // 使用者已登入，可以取得資料\r\n      var email = user.email;\r\n      console.log(\"email:\"+email);\r\n    } else {\r\n      console.log(\"沒登入\");\r\n      // 使用者未登入\r\n    }\r\n    const minus = async function(employee){\r\n      console.log(employee.bfquantity);\r\n      console.log(employee.id);\r\n      await setDoc(doc(db, \"cart\", DocId,\"ctcontent\",employee.id), {\r\n        bfname:employee.bfname,\r\n        bfprice: employee.bfprice,\r\n        bfquantity:parseInt(employee.bfquantity)-1,\r\n        useremail:user.email\r\n      });\r\n      setTotal(parseInt(total)-parseInt(employee.bfprice))\r\n  }\r\n  const plus = async function(employee){\r\n    console.log(employee.bfquantity);\r\n    console.log(employee.id);\r\n    await setDoc(doc(db, \"cart\", DocId,\"ctcontent\",employee.id), {\r\n      bfname:employee.bfname,\r\n      bfprice: employee.bfprice,\r\n      bfquantity:parseInt(employee.bfquantity)+1,\r\n      useremail:user.email\r\n    });\r\n    setTotal(parseInt(total)+parseInt(employee.bfprice))\r\n}\r\nconst send = async function(){\r\n            const auth = getAuth();\r\n            const user = auth.currentUser;\r\n            var acemail = user.email;\r\n            const querySnapshot = await getDocs(collection(db,\"order\"));\r\n            console.log(\"querySnapshot:\"+querySnapshot);\r\n            let docId=0;\r\n            let docII=0;\r\n            const temppp=[];\r\n            querySnapshot.forEach((doc) => {\r\n                console.log(doc.id, \" => \", doc.data());\r\n                temppp.push(parseInt(doc.id));\r\n                docII = Math.max(...temppp);\r\n              });\r\n            docId = docII.toString();\r\n            const cartid = parseInt(docId) +1;\r\n            const carid = cartid.toString();\r\n            await setDoc(doc(db, \"order\", carid), {\r\n              address:orderAddress,\r\n              state: 0,\r\n              email: acemail,\r\n              cost: total\r\n            });\r\n            //加訂單\r\n            const docRef2 = doc(db,\"cart\",DocId );\r\n            const querySnapshot2 = await getDocs(collection(docRef2,\"ctcontent\"));\r\n            //const querySnapshot2 = await getDocs(collection(db,\"cart\",docRef,\"ctcontent\"));\r\n            querySnapshot2.forEach((doc) => {\r\n              const cartttRef = addDoc(collection(db,\"order\",carid,\"content\"),{\r\n                bfname:doc.data().bfname, \r\n                bfprice:doc.data().bfprice,\r\n                bfquantity:doc.data().bfquantity\r\n                });\r\n                console.log(doc.data());\r\n            });\r\n            \r\n            Swal.fire({\r\n              icon: 'success',\r\n              title: '訂單送出成功！',\r\n            })\r\n          console.log(DocId)\r\n          await deleteDoc(doc(db,\"cart\",DocId));\r\n            handleClose();\r\n\r\n}\r\n\r\n      const [DocId, setDocId] = useState(0);\r\n      const [quantity, setQuantity] = useState(0);\r\n      const [total,setTotal]=useState(0);\r\n      const [total2,setTotal2]=useState(0);\r\n      const [employees,setProducts]=useState([]);\r\n      useEffect(()=>{\r\n        async function readData() {\r\n          //var citiesRef = collection(db, \"product\");\r\n          //先找有沒有購物車\r\n          console.log(user);\r\n          const q = query(collection(db,\"cart\"),where(\"ctstate\", \"==\", 0),where(\"useremail\",\"==\",user.email));\r\n          const snapshot = await getDocs(query(q) );\r\n          console.log(\"db_line64:\"+db);\r\n          //console.log(\"bfname:\",bfname,\",email:\",user.email);\r\n          if (snapshot.empty==true) {\r\n            console.log(\"購物車為空\");\r\n          }else{\r\n            console.log(\"db_line69:\"+db);\r\n            console.log(\"useremail:\"+user.email);\r\n            let docRef=0;\r\n            let docII=0;\r\n            let docId=0;\r\n            console.log(snapshot);\r\n            const temppp=[];\r\n            snapshot.forEach((doc)=>{\r\n              temppp.push(parseInt(doc.id));\r\n              console.log(doc.id, \" => \", doc.data());\r\n              docRef = doc;\r\n              //換成數字\r\n              docII = Math.max(...temppp);\r\n            });\r\n            \r\n            console.log(temppp);\r\n            console.log(docII);\r\n            docId = docII.toString();\r\n            console.log(docRef);\r\n            console.log(docId);\r\n            setDocId(docId);\r\n\r\n            //抓ctcontent\r\n            docRef = doc(db,\"cart\",docId );\r\n            const querySnapshot = await getDocs(collection(docRef,\"ctcontent\"));\r\n            const temp = [];\r\n            querySnapshot.forEach((doc) => {\r\n            console.log(doc.id, \" => \", doc.data());\r\n            temp.push({id:doc.id,\r\n              bfname:doc.data().bfname, \r\n              bfprice:doc.data().bfprice,\r\n              bfquantity:doc.data().bfquantity,\r\n              });\r\n            setTotal((old_total)=>parseInt(old_total)+parseInt(doc.data().bfprice)*parseInt(doc.data().bfquantity))\r\n            console.log(total)\r\n            //console.log(total2)\r\n            console.log(doc.data().bfprice)\r\n          });\r\n          \r\n          setProducts([...temp]);\r\n          }\r\n        }\r\n        readData();\r\n      },[db]);\r\n      const [deleted,setDeleted]=useState([]);\r\n      const deleteData = async function(id){\r\n        try{\r\n          const q = query(collection(db,\"cart\"),where(\"ctstate\", \"==\", 0),where(\"useremail\",\"==\",user.email));\r\n          const snapshot = await getDocs(query(q) );\r\n          let docRef = 0;\r\n          let docId=0;\r\n          snapshot.forEach((doc)=>{\r\n            console.log(doc.id, \" => \", doc.data());\r\n            docRef = doc;\r\n            docId = doc.id;\r\n          });\r\n          docRef = doc(db,\"cart\",docId );\r\n          await deleteDoc(doc(docRef, \"ctcontent\", id));\r\n          //console.log(\"deleted\");\r\n          setDeleted(deleted+1);\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: '刪除成功，請重新整理頁面'\r\n          })\r\n        }\r\n        catch (error){\r\n          console.log(error);\r\n        }\r\n      \r\n      }\r\n\r\n      const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const [orderAddress, setorderAddress] = useState();\r\n  const handleClick = function(e){\r\n    setorderAddress(e.target.value)\r\n  }\r\n  const Emp=function(){\r\n    if (employees==false){\r\n      return(\r\n        <Empty\r\n          style={{ padding: '64px 0' }}\r\n          image={\r\n            <AddReactionIcon\r\n              style={{\r\n                color: 'var(--adm-color-light)',\r\n                fontSize: 48,\r\n              }}\r\n            />\r\n          }\r\n          description='購物車是空的'\r\n        />\r\n      );\r\n    }\r\n    else{\r\n      return(\r\n        <List aria-label=\"employee list\">\r\n    {employees.map((employee, index) => \r\n      <ListItem divider key={index} onClick={()=>handleListItemClick(index)} selected={selectedIndex === index}>\r\n\r\n        <ListItemText primary={employee.bfname} secondary={\"NT$\"+employee.bfprice}></ListItemText>\r\n        \r\n        <button onClick={()=>minus(employee)}>-</button>\r\n        <input id=\"num\" value={employee.bfquantity} size=\"1\"></input>\r\n        <button onClick={()=>plus(employee)}>+</button>\r\n        <Tooltip title=\"刪除\">\r\n        <IconButton edge=\"end\" onClick={()=>deleteData(employee.id)}>\r\n        <DeleteIcon/>\r\n        </IconButton> \r\n        </Tooltip>\r\n        \r\n      </ListItem>)}\r\n      <ListItem>\r\n      <ListItemText>金額：{total}</ListItemText>\r\n      <Button variant=\"contained\" endIcon={<SendIcon />} onClick={handleClickOpen}  >\r\n        送出訂單\r\n      </Button>\r\n      </ListItem>\r\n\r\n    </List>\r\n      );\r\n    }\r\n  }\r\n \r\n    return (\r\n    <Box sx={{\r\n        width: '100vw',maxWidth: 360,\r\n        height: '100vh',\r\n        backgroundColor: 'background.paper',\r\n        color: 'black',\r\n        textAlign: 'left'\r\n    }} >\r\n    <AppMenu/>\r\n  \r\n    <Emp/>\r\n    \r\n    <Dialog open={open} onClose={handleClose}>\r\n<DialogTitle id=\"alert-dialog-title\">{\"請輸入送達地址\"}\r\n</DialogTitle>\r\n<DialogContent>\r\n<DialogContentText id=\"alert-dialog-description\">\r\n地址：<Input type=\"text\" name=\"bfname\"  onChange={handleClick}/><br/>\r\n</DialogContentText>\r\n</DialogContent>\r\n<DialogActions>\r\n<Button variant=\"contained\" color=\"primary\" onClick={()=>send()}>送出</Button>\r\n<Button onClick={handleClose}>取消</Button>\r\n</DialogActions>\r\n</Dialog>\r\n\r\n    </Box>\r\n\r\n\r\n\r\n  );\r\n\r\n}","import React, {useState,useEffect} from 'react';\r\nimport { Box, List, ListItem, ListItemText,CircularProgress} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {collectionGroup, getFirestore,collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport Swal from 'sweetalert2';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\r\nimport HighlightOffIcon from '@mui/icons-material/HighlightOff';\r\nexport default function Newpage() {\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  const [products,setProducts]=useState([]);\r\n  const [string,setstring]=useState([]);\r\n  const [productsr,setProductsr]=useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n      useEffect(()=>{\r\n        async function readData() {\r\n          setIsLoading(true);\r\n          var citiesRef = collection(db, \"order\");\r\n          const q = await getDocs(query(citiesRef, where(\"state\", \"==\", 0)));\r\n          //temp裝未完成訂單user\r\n          const temp = [];\r\n          //tempu裝未完成訂單id\r\n          const tempu=[];\r\n         //q.foreach(doc) => ........\r\n          q.forEach(async (doc) => {\r\n            //訂購人email地址等資訊\r\n            console.log(doc.id, \" => \", doc.data());\r\n            tempu.push(\"order/\"+doc.id+\"/content\");\r\n            //console.log(\"order/\"+doc.id+\"/content\");\r\n            let strr=\"order/\"+doc.id+\"/content\";\r\n            const citiesRefi = collection(db, strr);\r\n            const querySnapshoti = await getDocs(citiesRefi);\r\n            const tempudetail=[];\r\n            querySnapshoti.forEach((docs) => {\r\n              // doc.data() is never undefined for query doc snapshots\r\n              console.log(docs.id, \" => \", docs.data());\r\n              tempudetail.push({id:docs.id,bfname:docs.data().bfname,bfprice:docs.data().bfprice, bfquantity:docs.data().bfquantity});\r\n              });\r\n              //setProductsr([...tempudetail]);\r\n            temp.push({id:doc.id,address:doc.data().address,email:doc.data().email, state:doc.data().state,productsr:tempudetail});\r\n            setProducts((current)=>[...current,{id:doc.id,address:doc.data().address,email:doc.data().email, cost:doc.data().cost,state:doc.data().state,productsr:tempudetail} ])\r\n          });\r\n          console.log(\"未完成id:\"+tempu);\r\n          console.log(temp);\r\n          //setProducts([...temp]);\r\n          setIsLoading(false);\r\n          setstring([...tempu]);\r\n        }\r\n        readData();\r\n      },[db]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n  const edit = async function(id){\r\n    try{\r\n      console.log(id);\r\n      await updateDoc(doc(db,\"order\",id),{\r\n        state:1\r\n      });\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: '完成訂單，請重整頁面'\r\n      })\r\n    }\r\n  \r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n    \r\n  }\r\n  const edit2 = async function(id){\r\n    try{\r\n      console.log(id);\r\n      await updateDoc(doc(db,\"order\",id),{\r\n        state:2\r\n      });\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: '此訂單已取消，請重整頁面'\r\n      })\r\n    }\r\n  \r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n    \r\n  }\r\n  const[productid,setProductid]=useState(0);\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const Imfor=function(){\r\n    return(\r\n      <Box>\r\n        {products.map((product, index) => \r\n        <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id={index}\r\n        >\r\n          <Typography>{product.email}</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n        <strong>地址：{product.address}</strong><br/>\r\n          <strong>總金額：{product.cost}</strong>\r\n          <Typography>\r\n          {product.productsr.map((buyy, index) => \r\n            <ListItemText primary={\"品項：\"+buyy.bfname} secondary={\"份數：\"+buyy.bfquantity}></ListItemText>\r\n          )}\r\n          <Stack direction=\"row\" spacing={1}>\r\n          <Button variant=\"contained\" color=\"success\" edge=\"end\" onClick={()=>edit(product.id)} startIcon={<CheckCircleOutlineIcon/>}>完成訂單</Button>\r\n          <Button variant=\"contained\" color=\"error\" edge=\"end\" onClick={()=>edit2(product.id)} startIcon={<HighlightOffIcon/>}>取消訂單</Button>\r\n          </Stack>\r\n          </Typography>\r\n          \r\n        </AccordionDetails>\r\n      </Accordion>\r\n      \r\n        )}\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n\r\n    return (\r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n        <List aria-label=\"employee list\"></List>\r\n        {!isLoading ?\r\n          <Imfor/>\r\n           :\r\n          <CircularProgress />\r\n        }\r\n    </Box>\r\n  );\r\n}","import React, {useState,useEffect} from 'react';\r\nimport { Box, List, ListItem, ListItemText,CircularProgress} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {collectionGroup, getFirestore,collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport Swal from 'sweetalert2';\r\nimport Alert from '@mui/material/Alert';\r\nimport { Tag } from 'antd-mobile';\r\nexport default function Newpage() {\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  const [products,setProducts]=useState([]);\r\n  const [string,setstring]=useState([]);\r\n  const [productsr,setProductsr]=useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n      useEffect(()=>{\r\n        async function readData() {\r\n          setIsLoading(true);\r\n          var citiesRef = collection(db, \"order\");\r\n          const q = await getDocs(query(citiesRef, where(\"state\", \"!=\", 0)));\r\n          //temp裝未完成訂單user\r\n          const temp = [];\r\n          //tempu裝未完成訂單id\r\n          const tempu=[];\r\n         //q.foreach(doc) => ........\r\n          q.forEach(async (doc) => {\r\n            //訂購人email地址等資訊\r\n            console.log(doc.id, \" => \", doc.data());\r\n            tempu.push(\"order/\"+doc.id+\"/content\");\r\n            //console.log(\"order/\"+doc.id+\"/content\");\r\n            let strr=\"order/\"+doc.id+\"/content\";\r\n            const citiesRefi = collection(db, strr);\r\n            const querySnapshoti = await getDocs(citiesRefi);\r\n            const tempudetail=[];\r\n            querySnapshoti.forEach((docs) => {\r\n              // doc.data() is never undefined for query doc snapshots\r\n              console.log(docs.id, \" => \", docs.data());\r\n              tempudetail.push({id:docs.id,bfname:docs.data().bfname,bfprice:docs.data().bfprice, bfquantity:docs.data().bfquantity});\r\n              });\r\n              //setProductsr([...tempudetail]);\r\n            temp.push({id:doc.id,address:doc.data().address,email:doc.data().email, state:doc.data().state,productsr:tempudetail});\r\n            setProducts((current)=>[...current,{id:doc.id,address:doc.data().address,email:doc.data().email,cost:doc.data().cost, state:doc.data().state,productsr:tempudetail} ])\r\n          });\r\n          console.log(\"未完成id:\"+tempu);\r\n          console.log(temp);\r\n          //setProducts([...temp]);\r\n          setIsLoading(false);\r\n          setstring([...tempu]);\r\n        }\r\n        readData();\r\n      },[db]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n  const[productid,setProductid]=useState(0);\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const Erro=function(name){\r\n    if (name==\"1\"){\r\n      return(\r\n        <Alert severity=\"success\">訂單已成功送出</Alert>\r\n      );\r\n    }\r\n    else{\r\n      return(\r\n        <Alert severity=\"error\">訂單已被取消</Alert>\r\n      );\r\n    }\r\n  }\r\n  const Erro2=function(name){\r\n    if (name==\"2\"){\r\n      return(\r\n        <Tag round color='danger'>\r\n          已取消\r\n        </Tag>\r\n      );\r\n    }\r\n    \r\n  }\r\n  const Imfor=function(){\r\n    return(\r\n      <Box>\r\n        {products.map((product, index) => \r\n        <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id={index}\r\n        >\r\n          <Typography>{product.email} {Erro2(product.state)}</Typography>\r\n        </AccordionSummary>\r\n        {Erro(product.state)}\r\n        <AccordionDetails>\r\n          <strong>地址：{product.address}</strong><br/>\r\n          <strong>總金額：{product.cost}</strong>\r\n          <Typography>\r\n          {product.productsr.map((buyy, index) => \r\n            <ListItemText primary={\"品項：\"+buyy.bfname} secondary={\"份數：\"+buyy.bfquantity}></ListItemText>\r\n           \r\n          )}\r\n          \r\n          \r\n          \r\n          </Typography>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      \r\n        )}\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n\r\n    return (\r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n        <List aria-label=\"employee list\"></List>\r\n        {!isLoading ?\r\n          <Imfor/>\r\n           :\r\n          <CircularProgress />\r\n        }\r\n    </Box>\r\n  );\r\n}","import React, {useState, useContext} from 'react';\r\nimport {Button, TextField} from '@mui/material';\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword,updateProfile } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\"; \r\nimport Avatar from '@mui/material/Avatar';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport PersonAddAlt1Icon from '@mui/icons-material/PersonAddAlt1';\r\nimport Alert from '@mui/material/Alert';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Swal from 'sweetalert2';\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\n\r\nexport default function SignUp() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const authContext = useContext(AuthContext);\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await createUserWithEmailAndPassword(auth, account.email, account.password);\r\n      if (res) {\r\n        await updateProfile(auth.currentUser,{displayName: account.displayName});\r\n        authContext.setStatus(STATUS.toSignIn);\r\n\r\n        const docRef = await addDoc(collection(db,\"user\"),{\r\n          userauth:parseInt(\"0\"),\r\n          useremail:account.email,\r\n          username:account.name\r\n        });\r\n        console.log(docRef.id);\r\n\r\n      }\r\n      Swal.fire({\r\n        icon: 'success',\r\n        title: 'Success',\r\n        text: '註冊成功，可以登入了。',\r\n        confirmButtonText:\"確定\",\r\n        \r\n      })\r\n    }\r\n\r\n    catch(error){\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: '輸入錯誤或已經註冊過了。',\r\n        confirmButtonText:\"關閉\",\r\n        showCancelButton: true,\r\n        showConfirmButton:false,\r\n        cancelButtonText:\"關閉\"\r\n      })\r\n    }\r\n\r\n  }\r\n  const changeStatus = function(){\r\n    authContext.setStatus(STATUS.toSignIn);\r\n  }\r\n  function RedBar() {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          height: 5,\r\n          backgroundColor: (theme) =>\r\n            theme.palette.mode === 'light'\r\n              ? 'rgba(255, 255, 255, 0.1)'\r\n              : 'rgb(255 132 132 / 25%)',\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  \r\n  function ImageAvatars() {\r\n    return (\r\n      \r\n      <Box\r\n      sx={{\r\n        width: '100%', maxWidth: 360, bgcolor: 'background.paper' \r\n      }}\r\n      alignItems=\"center\"\r\n      >\r\n      <RedBar/>\r\n      <Alert severity=\"error\">輸入錯誤或帳號已被註冊。</Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return(\r\n    <Box\r\n    component=\"form\"\r\n    sx={{\r\n      '& .MuiTextField-root': { m: 0.5, width: '25ch' },\r\n    }}\r\n    noValidate\r\n    autoComplete=\"off\"\r\n    sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}\r\n    >\r\n      <Card>\r\n      <CardContent>\r\n        <Typography>\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={2} >\r\n            <Avatar>\r\n              <PersonAddAlt1Icon/>\r\n            </Avatar>\r\n          </Box>\r\n        </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n    <form>\r\n      <TextField type = \"text\" name = \"name\" value={account.name} \r\n        placeholder=\"姓名\" label=\"姓名:\" onChange={handleChange} /><br/>\r\n        <RedBar/>\r\n      <TextField type = \"email\" name = \"email\" value={account.email} \r\n        placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n        <RedBar/>\r\n      <TextField type = \"password\" name = \"password\" value={account.password}\r\n        placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n      {message}<br/>\r\n      \r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>註冊</Button><br/>\r\n      已經有帳號了？<Button  color=\"secondary\" onClick={changeStatus}>登入</Button>\r\n      \r\n    </form>\r\n    </Typography>\r\n    </CardContent>\r\n    </Card>\r\n    </Box>\r\n    \r\n\r\n  )\r\n\r\n}","import React, {useState, useContext} from 'react';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {Button, TextField} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\"; \r\nimport Stack from '@mui/material/Stack';\r\nimport Box from '@mui/material/Box';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Typography from '@mui/material/Typography';\r\nimport LoginIcon from '@mui/icons-material/Login';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport SnackbarContent from '@mui/material/SnackbarContent';\r\nimport DoDisturbOnIcon from '@mui/icons-material/DoDisturbOn';\r\nimport Swal from 'sweetalert2';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport { Input, List } from 'antd-mobile';\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\n\r\nexport default function SignIn() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const authContext = useContext(AuthContext);\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  \r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await signInWithEmailAndPassword(auth, account.email, account.password);\r\n      if (res) {\r\n        // 登入\r\n        authContext.setStatus(STATUS.toSignOut);\r\n        // 新增資料\r\n      }\r\n      setMessage(\"\");\r\n    }\r\n\r\n    catch(error){\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: '帳號或密碼輸入錯誤。',\r\n        confirmButtonText:\"關閉\",\r\n        showCancelButton: true,\r\n        showConfirmButton:false,\r\n        cancelButtonText:\"關閉\"\r\n      })\r\n    }\r\n  }\r\n  const changeStatus = function(){\r\n    authContext.setStatus(STATUS.toSignUp);\r\n  }\r\n  function RedBar() {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          height: 5,\r\n          backgroundColor: (theme) =>\r\n            theme.palette.mode === 'light'\r\n              ? 'rgba(255, 255, 255, 0.1)'\r\n              : 'rgb(255 132 132 / 25%)',\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  \r\n  \r\n\r\n  return(\r\n    \r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { m: 0.5, width: '25ch' },\r\n      }}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n      sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}\r\n    >\r\n    <Card>\r\n      <CardContent>\r\n        <Typography>\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={2} >\r\n            <Avatar>\r\n              <LoginIcon/>\r\n            </Avatar>\r\n          </Box>\r\n        </Typography>\r\n        <Typography variant=\"body2\" align=\"center\">\r\n        <form>\r\n        \r\n          <TextField type = \"text\" name = \"email\" value={account.email} \r\n          placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n          <RedBar/>\r\n          <TextField type = \"password\" name = \"password\" value={account.password}\r\n          placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n          {message}<br/>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>登入</Button><br/>\r\n          \r\n          還沒有帳號？<Button color=\"secondary\" onClick={changeStatus}>註冊</Button>\r\n        </form>\r\n      </Typography>\r\n      </CardContent>\r\n    </Card>\r\n    </Box>\r\n    \r\n\r\n  )\r\n\r\n}","import React, {useState, useContext,useEffect} from 'react';\r\nimport {Button} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {ListItemText} from '@mui/material';\r\nimport Alert from '@mui/material/Alert';\r\nimport Stack from '@mui/material/Stack';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\nimport { Result } from 'antd-mobile';\r\nimport { SmileOutline } from 'antd-mobile-icons';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Divider from '@mui/material/Divider';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport {collectionGroup, getFirestore,collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport Chip from '@mui/material/Chip';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nexport default function SignOut() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  \r\n\r\n  const authContext = useContext(AuthContext);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [users,setUsername]=useState([]);\r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n\r\n      const auth = getAuth();\r\n      await signOut(auth);\r\n      setMessage(\"\");\r\n      authContext.setStatus(STATUS.toSignIn);\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\nconst auth = getAuth();\r\nconst user = auth.currentUser;\r\nif(user) {\r\n  // 使用者已登入，可以取得資料\r\n  var email = user.email;\r\n  var uid = user.uid;\r\n  console.log(email, uid);\r\n} else {\r\n  // 使用者未登入\r\n}\r\nuseEffect(()=>{\r\n  async function readData() {\r\n    //setIsLoading(true);\r\n    var citiesRef = collection(db, \"user\");\r\n    const querySnapshot = await getDocs(query(citiesRef, where(\"useremail\", \"==\", email)));\r\n    const temp = [];\r\n   //q.foreach(doc) => ........\r\n    querySnapshot.forEach((doc) => {\r\n      temp.push(doc.data().username);\r\n    });\r\n    console.log(temp);\r\n    setUsername([...temp]);\r\n    //setIsLoading(false);\r\n  }\r\n\r\n  readData();\r\n\r\n},[db]);\r\nfunction RedBar() {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: 5,\r\n        backgroundColor: (theme) =>\r\n          theme.palette.mode === 'light'\r\n            ? 'rgba(255, 255, 255, 0.1)'\r\n            : 'rgb(255 132 132 / 25%)',\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction stringToColor(string) {\r\n  let hash = 0;\r\n  let i;\r\n\r\n  /* eslint-disable no-bitwise */\r\n  for (i = 0; i < string.length; i += 1) {\r\n    hash = string.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  let color = '#';\r\n\r\n  for (i = 0; i < 3; i += 1) {\r\n    const value = (hash >> (i * 8)) & 0xff;\r\n    color += `00${value.toString(16)}`.substr(-2);\r\n  }\r\n  /* eslint-enable no-bitwise */\r\n\r\n  return color;\r\n}\r\nconst C=function(){\r\n  return(\r\n    <Card sx={{ maxWidth: 360 }}>\r\n      <CardContent>\r\n      \r\n        <Typography align=\"center\">\r\n        <Chip\r\n        avatar={<Avatar {...stringAvatar(email)} />}\r\n        label={users}\r\n        variant=\"outlined\"\r\n        /><br/>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        歡迎使用<br/>\r\n        {email}\r\n        </Typography>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        <RedBar/>\r\n        <Typography align=\"center\">\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit} startIcon={<LogoutIcon/>}>登出</Button>\r\n        </Typography>\r\n      </CardContent>\r\n      \r\n    </Card>\r\n  );\r\n}\r\nfunction stringAvatar(name) {\r\n  return {\r\n    sx: {\r\n      bgcolor: stringToColor(name),\r\n    },\r\n    children: `${name.split(' ')[0][0]}`,\r\n  };\r\n}\r\n  return(\r\n    <Box>\r\n      <C/>\r\n    </Box>\r\n    \r\n   \r\n    \r\n  )\r\n}","import React, {useState,useContext} from 'react';\r\nimport AppMenu from './AppMenu';\r\nimport SignUp from '../account/SignUp';\r\nimport SignIn from '../account/SignIn';\r\nimport SignOut from '../account/SignOut';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\n\r\n\r\nexport default function Main() {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  return (\r\n    <div>\r\n      <AppMenu/>\r\n      {authContext.status===STATUS.toSignUp?\r\n      <SignUp/>\r\n      :authContext.status===STATUS.toSignIn? \r\n      <SignIn/> //已登入\r\n      :\r\n      <SignOut/>\r\n      }\r\n      \r\n    </div>\r\n/*\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n\r\n      {status===\"signUp\"?\r\n      <SignUp setStatus={setStatus}/>\r\n      :status===\"signIn\"?\r\n      <SignIn setStatus={setStatus}/>\r\n      :\r\n      <SignOut setStatus={setStatus}/>\r\n      }\r\n*/\r\n\r\n\r\n  )\r\n\r\n\r\n\r\n}","import React, {useState,useEffect} from 'react';\r\nimport { Box, List, ListItem, ListItemText,CircularProgress} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {collectionGroup, getFirestore,collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit,getDoc} from '@firebase/firestore';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport Swal from 'sweetalert2';\r\nimport Alert from '@mui/material/Alert';\r\nimport { Tag } from 'antd-mobile';\r\nexport default function Newpage() {\r\n  const firebaseApp = initializeApp(config);\r\n  const db = getFirestore();\r\n  const auth = getAuth();\r\n  const user = auth.currentUser;\r\n  if(user) {\r\n    var email = user.email;\r\n    var uid = user.uid;\r\n    console.log(email, uid);\r\n  } \r\n  const [products,setProducts]=useState([]);\r\n  const [string,setstring]=useState([]);\r\n  const [productsr,setProductsr]=useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n      useEffect(()=>{\r\n        async function readData() {\r\n          setIsLoading(true);\r\n          var citiesRef = collection(db, \"order\");\r\n          const q = await getDocs(query(citiesRef, where(\"email\", \"==\", email)));\r\n          //temp裝未完成訂單user\r\n          const temp = [];\r\n          //tempu裝未完成訂單id\r\n          const tempu=[];\r\n         //q.foreach(doc) => ........\r\n          q.forEach(async (doc) => {\r\n            //訂購人email地址等資訊\r\n            console.log(doc.id, \" => \", doc.data());\r\n            tempu.push(\"order/\"+doc.id+\"/content\");\r\n            //console.log(\"order/\"+doc.id+\"/content\");\r\n            let strr=\"order/\"+doc.id+\"/content\";\r\n            const citiesRefi = collection(db, strr);\r\n            const querySnapshoti = await getDocs(citiesRefi);\r\n            const tempudetail=[];\r\n            querySnapshoti.forEach((docs) => {\r\n              // doc.data() is never undefined for query doc snapshots\r\n              console.log(docs.id, \" => \", docs.data());\r\n              tempudetail.push({id:docs.id,bfname:docs.data().bfname,bfprice:docs.data().bfprice, bfquantity:docs.data().bfquantity});\r\n              });\r\n              //setProductsr([...tempudetail]);\r\n            temp.push({id:doc.id,address:doc.data().address,email:doc.data().email, state:doc.data().state,productsr:tempudetail});\r\n            setProducts((current)=>[...current,{id:doc.id,address:doc.data().address,email:doc.data().email,cost:doc.data().cost, state:doc.data().state,productsr:tempudetail} ])\r\n          });\r\n          console.log(\"未完成id:\"+tempu);\r\n          console.log(temp);\r\n          //setProducts([...temp]);\r\n          setIsLoading(false);\r\n          setstring([...tempu]);\r\n        }\r\n        readData();\r\n      },[db]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n  const[productid,setProductid]=useState(0);\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const Erro=function(name){\r\n    if (name==\"1\"){\r\n      return(\r\n        <Alert severity=\"success\">訂單已送達</Alert>\r\n      );\r\n    }\r\n    else if(name==\"2\"){\r\n      return(\r\n        <Alert severity=\"error\">訂單已被取消</Alert>\r\n      );\r\n    }\r\n    else{\r\n        return(\r\n            <Alert severity=\"info\">處理訂單中</Alert>\r\n        );\r\n    }\r\n  }\r\n  const Erro2=function(name){\r\n    if (name==\"2\"){\r\n      return(\r\n        <Tag round color='danger'>\r\n          已取消\r\n        </Tag>\r\n      );\r\n    }\r\n    else if(name==\"0\"){\r\n        return(\r\n        <Tag round color='#2db7f5'>\r\n          處理中\r\n        </Tag>\r\n        );\r\n    }\r\n    else{\r\n        return(\r\n            <Tag round color='#87d068'>\r\n          已完成\r\n        </Tag>\r\n        );\r\n    }\r\n    \r\n  }\r\n  const Imfor=function(){\r\n    return(\r\n      <Box>\r\n        {products.map((product, index) => \r\n        <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id={index}\r\n        >\r\n          <Typography>{product.email} {Erro2(product.state)}</Typography>\r\n        </AccordionSummary>\r\n        {Erro(product.state)}\r\n        <AccordionDetails>\r\n          <strong>地址：{product.address}</strong><br/>\r\n          <strong>總金額：{product.cost}</strong>\r\n          <Typography>\r\n          {product.productsr.map((buyy, index) => \r\n            <ListItemText primary={\"品項：\"+buyy.bfname} secondary={\"份數：\"+buyy.bfquantity}></ListItemText>\r\n           \r\n          )}\r\n          \r\n          \r\n          \r\n          </Typography>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      \r\n        )}\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n\r\n    return (\r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n        <List aria-label=\"employee list\"></List>\r\n        {!isLoading ?\r\n          <Imfor/>\r\n           :\r\n          <CircularProgress />\r\n        }\r\n    </Box>\r\n  );\r\n}","import React,{useState} from 'react';\r\nimport {HashRouter as Router, Routes, Route} from 'react-router-dom';\r\nimport Homepage from './homepage/homepage';\r\nimport ProductList from './product/ProductList';\r\nimport EmployeeList from './employee/EmployeeList';\r\nimport Newpage from './newpage/newpage';\r\nimport CompleteList from './complete/CompleteList';\r\nimport Main from './ui/Main';\r\nimport {AuthContext, STATUS} from './account/AuthContext';\r\nimport UserOrder from './userorder/UserOrder';\r\nexport default function AppRouter(){\r\n    const [status, setStatus] = useState(STATUS.toSignIn);\r\nreturn (\r\n    <AuthContext.Provider value={{status, setStatus}}>\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Main/>}/>\r\n        <Route path=\"/homepage\" element={<Homepage/>}/>\r\n        <Route path=\"/product\" element={<ProductList/>}/>\r\n        <Route path=\"/employee\" element={<EmployeeList/>}/>\r\n        <Route path=\"/newpage\" element={<Newpage/>}/>\r\n        <Route path=\"/complete\" element={<CompleteList/>}/>\r\n        <Route path=\"/userorder\" element={<UserOrder/>}/>\r\n      </Routes>\r\n    </Router>\r\n  </AuthContext.Provider>\r\n\r\n);\r\n\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './index.css';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport AppRouter from './AppRouter';\r\nimport ProductList from './product/ProductList';\r\nimport EmployeeList from './employee/EmployeeList';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport Main from './ui/Main';\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#ffdb4d',\r\n    },\r\n    secondary: {\r\n      main: '#ffcc00',\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={theme}>\r\n      <AppRouter/>\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n\r\n);\r\n\r\n\r\nserviceWorkerRegistration.register();\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals();"],"sourceRoot":""}