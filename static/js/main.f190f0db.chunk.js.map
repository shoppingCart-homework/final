{"version":3,"sources":["reportWebVitals.js","settings/firebaseConfig.js","account/AuthContext.js","ui/Upload.js","product/ProductAdd.js","ui/AppMenu.js","product/ProductList.js","employee/EmployeeList.js","newpage/newpage.js","complete/CompleteList.js","account/SignUp.js","account/SignIn.js","account/SignOut.js","ui/Main.js","AppRouter.js","serviceWorkerRegistration.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","getAnalytics","STATUS","AuthContext","React","createContext","status","setStatus","newStatus","ImageUpload","storage","getStorage","useState","message","setMessage","setImages","loaded","setLoaded","handleUpload","e","a","console","log","target","files","imageRef","ref","name","uploadBytes","getDownloadURL","url","currentValue","code","useEffect","listRef","listAll","result","items","forEach","image","currentImages","img","title","readImage","Box","Input","type","accept","onChange","db","getFirestore","ProductAdd","props","authContext","useContext","bfname","bfprice","bfimage","bfdesc","product","setProduct","handleClick","value","update","addDoc","collection","parseInt","docRef","id","open","setOpen","handleClose","Fab","color","onClick","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","FormHelperText","DialogActions","Button","variant","AppMenu","sx","width","borderBottom","borderColor","Tabs","scrollButtons","allowScrollButtonsMobile","Tab","component","NavLink","to","label","user","getAuth","currentUser","email","uid","cartAdd","query","where","q","getDocs","snapshot","empty","orderBy","limit","cartid","doc","bfquantity","useremail","cartttRef","ProductList","products","setProducts","setIsLoading","querySnapshot","temp","data","push","readData","onSnapshot","deleted","setDeleted","deleteData","deleteDoc","edit","productid","updateDoc","setProductid","editButton","isLoading","ImList","Stack","maxWidth","spacing","map","index","Card","CardMedia","height","CardContent","divider","Typography","gutterBottom","CardActions","startIcon","style","borderRadius","bgcolor","CircularProgress","newProduct","oldProducts","EmployeeList","department","num","employees","selectedIndex","setSelectedIndex","backgroundColor","textAlign","List","employee","ListItem","handleListItemClick","selected","ListItemText","primary","secondary","size","IconButton","edge","endIcon","Newpage","stuff","quantity","buy","Accordion","AccordionSummary","expandIcon","AccordionDetails","buyy","disabled","SignUp","getApps","length","password","displayName","account","setAccount","handleChange","handleSubmit","auth","createUserWithEmailAndPassword","updateProfile","userauth","username","m","noValidate","autoComplete","TextField","placeholder","direction","SignIn","signInWithEmailAndPassword","display","justifyContent","alignItems","p","Avatar","align","SignOut","signOut","Alert","severity","AlertTitle","Main","AppRouter","Provider","path","element","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","theme","createTheme","palette","main","ReactDOM","render","StrictMode","ThemeProvider","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.f190f0db.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nexport const config = {\r\n  apiKey: \"AIzaSyB3EuucPFsW92-c8eyA1Mdhnpczdzz4qro\",\r\n  authDomain: \"appcart-39b32.firebaseapp.com\",\r\n  projectId: \"appcart-39b32\",\r\n  storageBucket: \"appcart-39b32.appspot.com\",\r\n  messagingSenderId: \"334869830598\",\r\n  appId: \"1:334869830598:web:163b837129f1b5c4f070c7\",\r\n  measurementId: \"G-Q2XLR6R1QL\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(config);\r\nconst analytics = getAnalytics(app);","import React from 'react';\r\n\r\nexport const STATUS = {\r\n  toSignIn: 1,\r\n  toSignOut: 2,\r\n  toSignUp: 0,\r\n};\r\n\r\nexport const AuthContext = React.createContext({\r\n    status: STATUS.toSignIn,setStatus:(newStatus)=>{this.status=newStatus}\r\n\r\n  })\r\n\r\n/*\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n*/","import React, {useState, useEffect} from 'react';\r\nimport { getStorage, getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\r\nimport { listAll } from \"firebase/storage\";\r\nimport {Box, Input} from '@mui/material';\r\nimport {ImageList, ImageListItem} from '@mui/material';\r\n\r\nexport default function ImageUpload() {\r\n  const storage = getStorage();\r\n  const [message, setMessage] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [loaded, setLoaded] = useState(0); //add 1 when loaded\r\n\r\n  const handleUpload = async function(e){\r\n    console.log(e.target.files[0]);\r\n    try{\r\n      setMessage(\"\");\r\n      // Create a reference to the image\r\n      const imageRef = ref(storage,e.target.files[0].name);\r\n      await uploadBytes(imageRef, e.target.files[0]);\r\n      console.log('Uploaded a blob or file!');\r\n      const url = await getDownloadURL(imageRef);\r\n      console.log(url);\r\n      setLoaded((currentValue)=>currentValue+1);\r\n    }\r\n\r\n    catch(error){\r\n      console.log(error.code);\r\n      if (error.code === \"storage/unauthorized\"){\r\n        setMessage(\"尚未登入\");\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    async function readImage() {\r\n      try {\r\n        setMessage(\"waiting...\");\r\n        const listRef = ref(storage, '/');\r\n        const result = await listAll(listRef);\r\n        setImages([]);\r\n        result.items.forEach(async (image) => {         \r\n          let url = await getDownloadURL(image);\r\n          setImages((currentImages)=>[...currentImages,{img:url, title:image.name}]);\r\n        });  \r\n        setMessage(\"\");\r\n      }\r\n\r\n      catch(error){\r\n        setMessage(error);\r\n        console.log(error);\r\n      }\r\n\r\n    }\r\n    readImage();\r\n  },[storage, loaded]);\r\n\r\n\r\n\r\n  return (\r\n    <Box>\r\n      <Input type=\"file\" accept=\"image/x-png,image/jpeg\" onChange={handleUpload}/>\r\n      <br/>{message}\r\n      \r\n      \r\n    </Box>\r\n\r\n  )\r\n\r\n}","import React, {useState,useEffect,useContext} from 'react';\r\nimport {Input, Box, Dialog, Button, Fab} from '@mui/material';\r\nimport { collection, addDoc,setDoc,doc,getFirestore } from \"firebase/firestore\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport TextField from '@mui/material/TextField';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport Upload from '../ui/Upload';\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\nexport default function ProductAdd(props) {\r\n  const authContext = useContext(AuthContext);\r\n  const [product, setProduct] = useState({bfname:\"\",bfprice:0,bfimage:\"\",bfdesc:\"\"})\r\n\r\n  const handleClick = function(e){\r\n    setProduct({...product,[e.target.name]:e.target.value})\r\n  }\r\n  \r\n  const update = async function(){\r\n    try{\r\n      const docRef = await addDoc(collection(db,\"breakfast\"),{\r\n        bfprice:parseInt(product.bfprice),\r\n        bfimage:change(product.bfimage),\r\n        bfname:product.bfname,\r\n        bfdesc:product.bfdesc\r\n        });\r\n      console.log(docRef.id);\r\n    }\r\n\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n    props.update(product);\r\n  }\r\n  function change(a)\r\n  {\r\n    return(\"https://firebasestorage.googleapis.com/v0/b/appcart-39b32.appspot.com/o/\"+a+\"?alt=media\");\r\n  }\r\n  \r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      {(authContext.status!=STATUS.toSignOut)?\r\n      <Box></Box>:\r\n      <Fab color=\"primary\" aria-label=\"Add\" onClick={handleClickOpen}>\r\n      +\r\n      </Fab>\r\n      }\r\n<Dialog open={open} onClose={handleClose}>\r\n<DialogTitle id=\"alert-dialog-title\">{\"新增產品\"}\r\n</DialogTitle>\r\n<DialogContent>\r\n<DialogContentText id=\"alert-dialog-description\">\r\n產品名稱:<Input type=\"text\" name=\"bfname\" value={product.bfname} onChange={handleClick}/><br/>\r\n產品價格:<Input type=\"number\" name=\"bfprice\" value={product.bfprice} onChange={handleClick}/><br/>\r\n產品敘述:<Input type=\"text\" name=\"bfdesc\" value={product.bfdesc} onChange={handleClick}/><br/>\r\n圖片檔名:<Input type=\"text\" name=\"bfimage\" value={product.bfimage} onChange={handleClick}/><br/>\r\n\r\n<FormHelperText id=\"outlined-weight-helper-text\">請完整輸入檔名(例：微笑薯餅.jpg)</FormHelperText>\r\n<Upload/>\r\n</DialogContentText>\r\n</DialogContent>\r\n<DialogActions>\r\n<Button variant=\"contained\" color=\"primary\" onClick={update}>新增</Button>\r\n<Button onClick={handleClose}>關閉</Button>\r\n</DialogActions>\r\n</Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport {Tabs, Tab, Box } from '@mui/material';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {useState,useContext} from 'react';\r\n\r\nexport default function AppMenu() {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  return (\r\n    <Box sx={{ width: 360 }}>\r\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n    <Tabs \r\n      variant=\"scrollable\"\r\n      scrollButtons\r\n      allowScrollButtonsMobile\r\n      aria-label=\"scrollable force tabs example\"\r\n    >\r\n        <Tab component={NavLink} to='/product' label=\"MENU\"  color=\"inherit\"/>\r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/employee'  label=\"cart\" color=\"inherit\"/>\r\n        }\r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/newpage' label=\"Order\"  color=\"inherit\"/>\r\n        }\r\n        {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n          <Tab component={NavLink}  to='/complete' label=\"Completed\"  color=\"inherit\"/>\r\n        }\r\n          \r\n        {authContext.status===STATUS.toSignOut?\r\n        <Tab component={NavLink}  to='/' label=\"logout\"  color=\"inherit\"/>\r\n        :\r\n        <Tab component={NavLink}  to='/' label=\"login\"  color=\"inherit\"/>\r\n      }\r\n    </Tabs>\r\n    </Box>\r\n    </Box>\r\n\r\n  )\r\n\r\n}\r\n\r\n/*\r\n    <div>\r\n      <AppMenu/>\r\n      {authContext.status===STATUS.toSignOut?\r\n      <Tab component={NavLink}  to='/' label=\"logout\"  color=\"inherit\"/>\r\n      :\r\n      <Tab component={NavLink}  to='/' label=\"login\"  color=\"inherit\"/>\r\n      }\r\n      \r\n    </div>\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n*/","import ProductAdd from './ProductAdd'\r\nimport ImageList from '@mui/material/ImageList';\r\nimport ImageListItem from '@mui/material/ImageListItem';\r\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\r\nimport React, {useState,useEffect,useContext} from 'react';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {Box,List,ListItemIcon,ListItemButton,ListItemText,Button, ListItem,CircularProgress,IconButton} from '@mui/material';\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { collection ,getDocs,doc,setDoc,addDoc, onSnapshot,query, orderBy,where,deleteDoc,updateDoc,limit} from '@firebase/firestore';\r\nimport DeleteOutlinedIcon from '@mui/icons-material/DeleteOutlined';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport Input from '@mui/material/Input';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport AppMenu from '../ui/AppMenu';\r\nimport {config} from '../settings/firebaseConfig';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport Edit from '@mui/icons-material/Edit';\r\nimport ImageUpload from '../ui/ImageUpload';\r\nimport Icon from '@mui/material/Icon';\r\nimport TextField from '@mui/material/TextField';\r\nimport AddShoppingCartIcon from '@mui/icons-material/AddShoppingCart';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Stack from '@mui/material/Stack';\r\nimport { getAuth} from \"firebase/auth\";\r\n\r\n\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\n// 先拿帳號出來\r\nconst auth = getAuth();\r\nconst user = auth.currentUser;\r\nif(user) {\r\n  // 使用者已登入，可以取得資料\r\n  var email = user.email;\r\n  var uid = user.uid;\r\n  console.log(email, uid);\r\n} else {\r\n  console.log(\"沒登入\");\r\n  // 使用者未登入\r\n}\r\n\r\n// 收集表格：搜尋登入的email有沒有ctstate==0的購物車\r\nconst cartAdd = async function(bfname){\r\n  //Unhandled Rejection (FirebaseError): Function where() called with invalid data. Unsupported field value: undefined\r\n  const q = await query(collection(db,\"cart\"),where(\"ctstate\", \"==\", 0),where(\"useremail\",\"==\",email));\r\n  const snapshot = await getDocs(query(q) );\r\n  console.log(\"bfname:\",bfname,\",email:\",email);\r\n\r\n  if (snapshot.empty) { \r\n  // 如果「沒有」待結帳的商品：最大cart_id++，並把商品加入該cart的ctcontent\r\n    //搜尋一下最大id\r\n    const maxid = await getDocs(query(collection(db,\"cart\"),orderBy(\"desc\"),limit(1)) );\r\n    const cartid = parseInt(doc.id) + 1; \r\n    //新增cart裡的文件\r\n    try{\r\n      const cartttRef = await addDoc(collection(db,\"cart\",cartid),collection(db,\"ctcontent\"),{\r\n        bfname: bfname,\r\n        bfquantity: 1,\r\n        useremail: email\r\n        });\r\n        console.log(cartttRef.id);\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n  }\r\n  else{\r\n  // 如果「有｣待結帳的商品：選定該cart，並加入content\r\n    const maxid = await getDocs(query(collection(db,\"cart\"),orderBy(\"desc\"),limit(1)) );\r\n    const cartid = parseInt(doc.id); \r\n    // 錯誤訊息：Unhandled Rejection (TypeError): n.indexOf is not a function??\r\n    try{\r\n      const cartttRef = await addDoc(collection(db,\"cart\",cartid),collection(db,\"ctcontent\"),{\r\n        bfname: bfname,\r\n        bfquantity: 1,\r\n        useremail: email\r\n        });\r\n        console.log(cartttRef.id);\r\n      }catch(e){\r\n        console.log(e);\r\n      }\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default function ProductList() {\r\n    const authContext = useContext(AuthContext);\r\n    const[selectedIndex,setSelectedIndex]=React.useState(1);\r\n\r\n    const handleListItemClick = (event, index) => {\r\n        setSelectedIndex(index);\r\n      };\r\n      const [products,setProducts]=useState([]);\r\n      useEffect(()=>{\r\n\r\n        async function readData() {\r\n          //var citiesRef = collection(db, \"product\");\r\n          //const q = await getDocs(query(citiesRef, where(\"price\", \">=\", 10000)));\r\n          setIsLoading(true);\r\n          const querySnapshot = await getDocs(collection(db, \"breakfast\"));\r\n    \r\n          const temp = [];\r\n         //q.foreach(doc) => ........\r\n          querySnapshot.forEach((doc) => {\r\n          // doc.data() is never undefined for query doc snapshots\r\n            console.log(doc.id, \" => \", doc.data());\r\n            temp.push({id:doc.id,bfdesc:doc.data().bfdesc,bfname:doc.data().bfname, bfprice:doc.data().bfprice,bfimage:doc.data().bfimage});\r\n          });\r\n    \r\n          console.log(temp);\r\n          setProducts([...temp]);\r\n          setIsLoading(false);\r\n        }\r\n    \r\n        readData();\r\n    \r\n      },[db]);\r\n\r\n      const unsub = onSnapshot(doc(db, \"breakfast\", \"SF\"), (doc) => {\r\n        console.log(\"Current data: \", doc.data());\r\n      });\r\n\r\n   const [open, setOpen] = React.useState(false);\r\n\r\n   const handleClickOpen = () => {\r\n     setOpen(true);\r\n   };\r\n \r\n   const handleClose = () => {\r\n     setOpen(false);\r\n   };\r\n\r\n   \r\n\r\n  const insert = function(newProduct){\r\n      setProducts(oldProducts=>[...oldProducts, newProduct]);\r\n    \r\n  }\r\n\r\n\r\nconst [deleted,setDeleted]=useState([]);\r\n\r\nconst deleteData = async function(id){\r\n\r\n  try{\r\n    setIsLoading(true);\r\n    await deleteDoc(doc(db, \"breakfast\", id));\r\n    //console.log(\"deleted\");\r\n    setDeleted(deleted+1);\r\n    setIsLoading(false);\r\n  }\r\n  catch (error){\r\n    console.log(error);\r\n  }\r\n\r\n}\r\n\r\nconst [product, setProduct] = useState({bfname:\"\",bfprice:0,bfimage:\"\",bfdesc:\"\"})\r\nconst handleClick = function(e){\r\n  setProduct({...product,[e.target.name]:e.target.value})\r\n}\r\nconst edit = async function(product){\r\n  try{\r\n    console.log(productid);\r\n    await updateDoc(doc(db,\"breakfast\",productid),{\r\n      bfprice:parseInt(product.bfprice),\r\n      bfname:product.bfname,\r\n      bfdesc:product.bfdesc\r\n    });\r\n  }\r\n\r\n  catch(e){\r\n    console.log(e);\r\n  }\r\n \r\n  \r\n}\r\nconst[productid,setProductid]=useState(0);\r\nconst editButton =  function(product){\r\n  handleClickOpen();\r\n  setProductid(product.id); \r\n}\r\n\r\n\r\n \r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const ImList=function(){\r\n    return(\r\n      <Stack sx={{ width: '100%' ,maxWidth: 360}} spacing={2}>\r\n        {products.map((product, index) => \r\n        <Card>\r\n          <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={product.bfimage}\r\n          />\r\n       <CardContent divider key={index}>\r\n        \r\n       <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n         {product.bfname}\r\n       </Typography>\r\n       <Typography variant=\"body2\" color=\"text.secondary\">\r\n         {product.bfdesc}<br/>\r\n         {\"NT$\"+product.bfprice}\r\n       </Typography>\r\n       </CardContent>\r\n          <CardActions>\r\n          {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n            <Button onClick={()=>cartAdd(product.bfname)}  variant=\"contained\" startIcon={<ShoppingCartIcon/>} color=\"secondary\">加入購物車</Button>\r\n          }\r\n          {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n            <Button style={{borderRadius:50}} onClick={()=>editButton(product)} variant=\"contained\" startIcon={<Edit/>} color=\"primary\" >編輯</Button>\r\n            \r\n          }\r\n          {(authContext.status!=STATUS.toSignOut)?\r\n          <Box></Box>:\r\n            <Button style={{borderRadius:50}} onClick={()=>deleteData(product.id)} variant=\"contained\" startIcon={<DeleteIcon/>} color=\"primary\" >刪除</Button>\r\n          }\r\n          </CardActions>\r\n     \r\n     </Card>\r\n      )}\r\n      </Stack>\r\n    )\r\n  }\r\n  \r\n  \r\n\r\n  return (\r\n<Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n\r\n<AppMenu/>\r\n\r\n{!isLoading ?\r\n<ImList/>\r\n :\r\n<CircularProgress />\r\n\r\n}\r\n\r\n<Dialog open={open} onClose={handleClose}>\r\n<DialogTitle id=\"alert-dialog-title\">{\"修改產品\"}\r\n</DialogTitle>\r\n<DialogContent>\r\n產品描述:<Input type=\"text\" name=\"bfname\" value={product.bfname} onChange={handleClick} /><br/>\r\n產品價格:<Input type=\"number\" name=\"bfprice\" value={product.bfprice} onChange={handleClick}/><br/>\r\n產品敘述:\r\n<Input type = \"text\" name = \"bfdesc\" value={product.bfdesc} onChange={handleClick}/>\r\n</DialogContent>\r\n<DialogActions>\r\n<Button variant=\"contained\" color=\"primary\" onClick={()=>edit(product)}>編輯</Button>\r\n<Button onClick={handleClose}>關閉</Button>\r\n</DialogActions>\r\n</Dialog>\r\n\r\n\r\n\r\n<ProductAdd update={insert}/>\r\n\r\n    \r\n    </Box>\r\n  );\r\n  \r\n\r\n}","import React, {useState,useEffect,useContext} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {IconButton} from '@mui/material';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport Button from '@mui/material/Button';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nexport default function EmployeeList() {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const [employees] = useState([\r\n    {id:\"0\", name:\"A\", department:\"100\",num:\"1\"},\r\n    {id:\"1\", name:\"B\", department:\"30\",num:\"1\"},\r\n    {id:\"2\", name:\"C\", department:\"20\",num:\"888\"},\r\n    {id:\"3\", name:\"D\", department:\"60\",num:\"100\"},\r\n    {id:\"4\", name:\"E\", department:\"1000\",num:\"1\"}\r\n   ]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  var Sum=0;\r\n  \r\n  \r\n\r\n    return (\r\n    <Box sx={{\r\n        width: '100vw',maxWidth: 360,\r\n        height: '100vh',\r\n        backgroundColor: 'background.paper',\r\n        color: 'black',\r\n        textAlign: 'left'\r\n    }} >\r\n    <AppMenu/>\r\n    <List aria-label=\"employee list\">\r\n    {employees.map((employee, index) => \r\n      <ListItem divider key={index} onClick={()=>handleListItemClick(index)} selected={selectedIndex === index}>\r\n\r\n        <ListItemText primary={employee.name} secondary={\"NT$\"+employee.department}></ListItemText>\r\n        \r\n        <button >-</button>\r\n        <input id=\"num\" value={employee.num} size=\"1\"></input>\r\n        <button >+</button>\r\n        <IconButton edge=\"end\">\r\n        <DeleteIcon/>\r\n        </IconButton> \r\n      \r\n      </ListItem>)}\r\n      <ListItem>\r\n      <ListItemText>總計：</ListItemText>\r\n      <Button variant=\"contained\" endIcon={<SendIcon />} >\r\n        送出訂單\r\n      </Button>\r\n      </ListItem>\r\n\r\n    </List>\r\n    \r\n    \r\n\r\n    </Box>\r\n\r\n\r\n\r\n  );\r\n\r\n}","import React, {useState} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nexport default function Newpage() {\r\n   \r\n  const [employees] = useState([\r\n\r\n    {id:\"0\", name:\"訂購人姓名\", department:\"木星\"},\r\n    {id:\"1\", name:\"訂購人姓名2\", department:\"冥王星\"}\r\n   ]);\r\n  const [buy]=useState([\r\n    {stuff:\"微笑世界\",quantity:\"5\"},\r\n    {stuff:\"微笑藥水\",quantity:\"10\"},\r\n    {stuff:\"微笑宇宙\",quantity:\"15\"}\r\n  ]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  \r\n\r\n    return (\r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n    <List aria-label=\"employee list\"></List>\r\n    {employees.map((employee, index) => \r\n    <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id={index}\r\n        >\r\n          <Typography>{employee.name}</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <strong>地址：{employee.department}</strong>\r\n          <Typography>\r\n          {buy.map((buyy, index) => \r\n            <ListItemText primary={\"品項：\"+buyy.stuff} secondary={\"份數：\"+buyy.quantity}></ListItemText>\r\n          )}\r\n          \r\n          <Button variant=\"contained\" color=\"success\" edge=\"end\">完成訂單</Button>\r\n          </Typography>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    )}\r\n    \r\n\r\n\r\n    </Box>\r\n    \r\n\r\n\r\n  );\r\n\r\n}","import React, {useState} from 'react';\r\nimport { Box, List, ListItem, ListItemText} from '@mui/material';\r\nimport AppMenu from '../ui/AppMenu';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Stack from '@mui/material/Stack';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nexport default function Newpage() {\r\n   \r\n  const [employees] = useState([\r\n\r\n    {id:\"0\", name:\"訂購人姓名3\", department:\"天王星\"},\r\n    {id:\"1\", name:\"訂購人姓名4\", department:\"海王星\"}\r\n   ]);\r\n  const [buy]=useState([\r\n    {stuff:\"微笑世界\",quantity:\"5\"},\r\n    {stuff:\"微笑藥水\",quantity:\"10\"},\r\n    {stuff:\"微笑宇宙\",quantity:\"15\"}\r\n  ]);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleListItemClick = (index) => {  \r\n    setSelectedIndex(index);\r\n  };\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  \r\n\r\n    return (\r\n      <Box sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n        <AppMenu/>\r\n    <List aria-label=\"employee list\"></List>\r\n    {employees.map((employee, index) => \r\n    <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1a-content\"\r\n          id={index}\r\n        >\r\n          <Typography>{employee.name}</Typography>\r\n        </AccordionSummary>\r\n        \r\n        <AccordionDetails>\r\n        <strong>地址：{employee.department}</strong>\r\n          <Typography>\r\n          {buy.map((buyy, index) => \r\n            \r\n            <ListItemText primary={\"品項：\"+buyy.stuff} secondary={\"份數：\"+buyy.quantity}></ListItemText>\r\n          )}\r\n          \r\n          <Button variant=\"contained\" color=\"success\" edge=\"end\" disabled>已完成</Button>\r\n          </Typography>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    )}\r\n    \r\n\r\n\r\n    </Box>\r\n    \r\n\r\n\r\n  );\r\n\r\n}","import React, {useState, useContext} from 'react';\r\nimport {Button, TextField} from '@mui/material';\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword,updateProfile } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\"; \r\n\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\n\r\nexport default function SignUp() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const authContext = useContext(AuthContext);\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await createUserWithEmailAndPassword(auth, account.email, account.password);\r\n      if (res) {\r\n        await updateProfile(auth.currentUser,{displayName: account.displayName});\r\n        authContext.setStatus(STATUS.toSignIn);\r\n\r\n        const docRef = await addDoc(collection(db,\"user\"),{\r\n          userauth:parseInt(\"0\"),\r\n          useremail:account.email,\r\n          username:account.name\r\n        });\r\n        console.log(docRef.id);\r\n\r\n      }\r\n      setMessage(\"\");\r\n    }\r\n\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n\r\n  }\r\n  const changeStatus = function(){\r\n    authContext.setStatus(STATUS.toSignIn);\r\n  }\r\n  \r\n\r\n  return(\r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { m: 0.5, width: '25ch' },\r\n      }}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n    >\r\n    <form>\r\n      <TextField type = \"text\" name = \"name\" value={account.name} \r\n        placeholder=\"姓名\" label=\"姓名:\" onChange={handleChange} /><br/>\r\n      <TextField type = \"email\" name = \"email\" value={account.email} \r\n        placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n      <TextField type = \"password\" name = \"password\" value={account.password}\r\n        placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n      {message}<br/>\r\n      <Stack spacing={0.5} direction=\"row\">\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>註冊</Button>\r\n      <Button variant=\"contained\" color=\"secondary\" onClick={changeStatus}>我要登入</Button>\r\n      </Stack>\r\n    </form>\r\n    </Box>\r\n    \r\n\r\n  )\r\n\r\n}","import React, {useState, useContext} from 'react';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {Button, TextField} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport { getFirestore, collection, addDoc } from \"firebase/firestore\"; \r\nimport Stack from '@mui/material/Stack';\r\nimport Box from '@mui/material/Box';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport Typography from '@mui/material/Typography';\r\nimport LoginIcon from '@mui/icons-material/Login';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst firebaseApp = initializeApp(config);\r\nconst db = getFirestore();\r\n\r\nexport default function SignIn() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  const authContext = useContext(AuthContext);\r\n  const [account, setAccount] = useState({email:\"\",password:\"\", displayName:\"\"});\r\n  const [message, setMessage] = useState(\"\");\r\n  const handleChange = function(e){\r\n    setAccount({...account,[e.target.name]:e.target.value})\r\n  }\r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n      const auth = getAuth();\r\n      const res = await signInWithEmailAndPassword(auth, account.email, account.password);\r\n      if (res) {\r\n        // 登入\r\n        authContext.setStatus(STATUS.toSignOut);\r\n        // 新增資料\r\n        \r\n      }\r\n      setMessage(\"\");\r\n    }\r\n\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\n  const changeStatus = function(){\r\n    authContext.setStatus(STATUS.toSignUp);\r\n  }\r\n  \r\n\r\n  return(\r\n    \r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { m: 0.5, width: '25ch' },\r\n      }}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n      sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}\r\n    >\r\n    <Card>\r\n      <CardContent>\r\n        <Typography>\r\n          <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" p={2} >\r\n            <Avatar>\r\n              <LoginIcon/>\r\n            </Avatar>\r\n          </Box>\r\n        </Typography>\r\n        <Typography variant=\"body2\" align=\"center\">\r\n        <form>\r\n        \r\n          <TextField type = \"text\" name = \"email\" value={account.email} \r\n          placeholder=\"電子郵件信箱\" label=\"電子郵件信箱:\" onChange={handleChange} autoComplete=\"email\"/><br/>\r\n          <TextField type = \"password\" name = \"password\" value={account.password}\r\n          placeholder=\"密碼\" label=\"密碼:\" onChange={handleChange} autoComplete=\"current-password\"/><br/>\r\n          {message}<br/>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>登入</Button>\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={changeStatus}>註冊</Button>\r\n        </form>\r\n      </Typography>\r\n      </CardContent>\r\n    </Card>\r\n    </Box>\r\n    \r\n\r\n  )\r\n\r\n}","import React, {useState, useContext} from 'react';\r\nimport {Button} from '@mui/material';\r\nimport { getApps, initializeApp } from \"firebase/app\";\r\nimport { getAuth, signOut } from \"firebase/auth\";\r\nimport {config} from '../settings/firebaseConfig';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\nimport {ListItemText} from '@mui/material';\r\nimport Alert from '@mui/material/Alert';\r\nimport Stack from '@mui/material/Stack';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\n//import { Box } from '@mui/system';\r\n\r\nexport default function SignOut() {\r\n  if (getApps().length===0) {\r\n    initializeApp(config);\r\n  }\r\n  \r\n  \r\n\r\n  const authContext = useContext(AuthContext);\r\n  const [message, setMessage] = useState(\"\");\r\n  \r\n  const handleSubmit = async function(){\r\n\r\n    try {\r\n\r\n      const auth = getAuth();\r\n      await signOut(auth);\r\n      setMessage(\"\");\r\n      authContext.setStatus(STATUS.toSignIn);\r\n    }\r\n    catch(error){\r\n      setMessage(\"\"+error);\r\n    }\r\n  }\r\nconst auth = getAuth();\r\nconst user = auth.currentUser;\r\nif(user) {\r\n  // 使用者已登入，可以取得資料\r\n  var email = user.email;\r\n  var uid = user.uid;\r\n  console.log(email, uid);\r\n} else {\r\n  // 使用者未登入\r\n}\r\n  return(\r\n\r\n    <form>\r\n      <Stack sx={{ width: '100%' ,maxWidth: 360}} spacing={2}>\r\n      <Alert severity=\"success\">\r\n        <AlertTitle><strong>登入成功</strong></AlertTitle>\r\n        使用帳號：{email}\r\n      </Alert>\r\n      </Stack>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>登出</Button>\r\n      {message}<br/>\r\n      \r\n    </form>    \r\n\r\n  )\r\n}","import React, {useState,useContext} from 'react';\r\nimport AppMenu from './AppMenu';\r\nimport SignUp from '../account/SignUp';\r\nimport SignIn from '../account/SignIn';\r\nimport SignOut from '../account/SignOut';\r\nimport {AuthContext, STATUS} from '../account/AuthContext';\r\n\r\n\r\nexport default function Main() {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  return (\r\n    <div>\r\n      <AppMenu/>\r\n      {authContext.status===STATUS.toSignUp?\r\n      <SignUp/>\r\n      :authContext.status===STATUS.toSignIn? \r\n      <SignIn/> //已登入\r\n      :\r\n      <SignOut/>\r\n      }\r\n      \r\n    </div>\r\n/*\r\nstatus及setStatus在provider會被覆蓋\r\nstatus為toSignIn 已註冊，將要登入\r\nstatus為toSignOut 已登入，將要登出  \r\nstatus為toSignUp 未註冊，將要註冊  \r\n\r\n      {status===\"signUp\"?\r\n      <SignUp setStatus={setStatus}/>\r\n      :status===\"signIn\"?\r\n      <SignIn setStatus={setStatus}/>\r\n      :\r\n      <SignOut setStatus={setStatus}/>\r\n      }\r\n*/\r\n\r\n\r\n  )\r\n\r\n\r\n\r\n}","import React,{useState} from 'react';\r\nimport {HashRouter as Router, Routes, Route} from 'react-router-dom';\r\nimport ProductList from './product/ProductList';\r\nimport EmployeeList from './employee/EmployeeList';\r\nimport Newpage from './newpage/newpage';\r\nimport CompleteList from './complete/CompleteList';\r\nimport Main from './ui/Main';\r\nimport {AuthContext, STATUS} from './account/AuthContext';\r\n\r\nexport default function AppRouter(){\r\n    const [status, setStatus] = useState(STATUS.toSignIn);\r\nreturn (\r\n    <AuthContext.Provider value={{status, setStatus}}>\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Main/>}/>\r\n        <Route path=\"/product\" element={<ProductList/>}/>\r\n        <Route path=\"/employee\" element={<EmployeeList/>}/>\r\n        <Route path=\"/newpage\" element={<Newpage/>}/>\r\n        <Route path=\"/complete\" element={<CompleteList/>}/>\r\n      </Routes>\r\n    </Router>\r\n  </AuthContext.Provider>\r\n\r\n);\r\n\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './index.css';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport AppRouter from './AppRouter';\r\nimport ProductList from './product/ProductList';\r\nimport EmployeeList from './employee/EmployeeList';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport Main from './ui/Main';\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#ffdb4d',\r\n    },\r\n    secondary: {\r\n      main: '#ffcc00',\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={theme}>\r\n      <AppRouter/>\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n\r\n);\r\n\r\n\r\nserviceWorkerRegistration.register();\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\nreportWebVitals();"],"sourceRoot":""}