(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{338:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(72),s=c.n(r),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,441)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},i=c(193),b=c(418),j=c(9),u=c(52),l=c(25),d=c(431),O=c(0),f=c.n(O),p=c(5),x=c(408),h=c(432),m=void 0,g=1,v=2,y=0,k=n.a.createContext({status:g,setStatus:function(e){m.status=e}}),w=c(13),S=c(141),C=c.n(S),I=c(177),E=c.n(I),q=c(112),W=c.n(q),B=c(178),M=c.n(B),P=c(179),T=c.n(P),U=c(182),N=c.n(U),A=c(181),F=c.n(A),z=c(30),L=c(27),R=c(194),_={apiKey:"AIzaSyB3EuucPFsW92-c8eyA1Mdhnpczdzz4qro",authDomain:"appcart-39b32.firebaseapp.com",projectId:"appcart-39b32",storageBucket:"appcart-39b32.appspot.com",messagingSenderId:"334869830598",appId:"1:334869830598:web:163b837129f1b5c4f070c7",measurementId:"G-Q2XLR6R1QL"},$=Object(L.b)(_),D=(Object(R.a)($),c(38)),H=c(180),J=c.n(H),Q=c(2);function V(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=(t[0],t[1]),n=Object(a.useState)([]),r=Object(j.a)(n,2),s=r[0],o=r[1],i=(Object(L.b)(_),Object(D.d)()),b=Object(a.useContext)(k),l=Object(z.b)().currentUser;if(l){var O=l.email;l.uid;console.log("loginemail:"+O)}else console.log("\u6c92\u6709\u767b\u5165");return Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(f.a.mark((function e(){var t,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Object(w.b)(i,"user"),e.next=4,Object(w.e)(Object(w.h)(t,Object(w.k)("useremail","==",l.email)));case 4:a=e.sent,n=[],a.forEach((function(e){console.log(e.id," => ",e.data()),n.push({useremail:e.data().useremail,userauth:e.data().userauth,username:e.data().username})})),console.log(n),o([].concat(n)),c(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(Q.jsx)(d.a,{sx:{width:360},children:Object(Q.jsx)(d.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(Q.jsxs)(x.a,{variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,"aria-label":"icon position tabs example",children:[Object(Q.jsx)(h.a,{component:u.b,to:"/homepage",label:"HOME",color:"inherit",icon:Object(Q.jsx)(C.a,{}),iconPosition:"start"}),b.status!=v?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(h.a,{component:u.b,to:"/product",label:"MENU",color:"inherit",icon:Object(Q.jsx)(E.a,{}),iconPosition:"start"}),b.status!=v?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(h.a,{component:u.b,to:"/employee",label:"cart",color:"inherit",icon:Object(Q.jsx)(W.a,{}),iconPosition:"start"}),s.map((function(e){return Object(Q.jsx)(d.a,{children:"1"!=e.userauth?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(d.a,{children:b.status!=v?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(h.a,{component:u.b,to:"/newpage",label:"Order",color:"inherit",icon:Object(Q.jsx)(M.a,{}),iconPosition:"start"})})})})),s.map((function(e){return Object(Q.jsx)(d.a,{children:"1"!=e.userauth?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(d.a,{children:b.status!=v?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(h.a,{component:u.b,to:"/complete",label:"Completed",color:"inherit",icon:Object(Q.jsx)(T.a,{}),iconPosition:"start"})})})})),b.status!=v?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(h.a,{component:u.b,to:"/userorder",label:"History",color:"inherit",icon:Object(Q.jsx)(J.a,{}),iconPosition:"start"}),b.status===v?Object(Q.jsx)(h.a,{component:u.b,to:"/",label:"logout",color:"inherit",icon:Object(Q.jsx)(F.a,{}),iconPosition:"start"}):Object(Q.jsx)(h.a,{component:u.b,to:"/",label:"login",color:"inherit",icon:Object(Q.jsx)(N.a,{}),iconPosition:"start"})]})})})}var G=c.p+"static/media/background.32c6d77b.jpg",K=c(49),X=c(398);function Y(){return Object(Q.jsxs)(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(Q.jsx)(V,{}),Object(Q.jsx)("link",{rel:"stylesheet",href:"https://unpkg.com/element-ui/lib/theme-chalk/index.css"}),Object(Q.jsx)("script",{src:"https://unpkg.com/element-ui/lib/index.js"}),Object(Q.jsx)(K.b,{icon:Object(Q.jsx)(X.a,{}),content:"\u6ce8\u610f\uff01\u65b0\u7522\u54c1\uff1a\u5fae\u7b11\u85af\u9905\u5373\u5c07\u4e0a\u5e02\uff01\u611f\u8b1d\u4f60\u7684\u6ce8\u610f\uff01",color:"info"}),Object(Q.jsx)("link",{href:"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css",rel:"stylesheet"}),Object(Q.jsx)("img",{style:{height:360},src:G})]})}var Z=c(4),ee=c(47),te=c(23),ce=c(434),ae=c(420),ne=c(419),re=c(414),se=c(403),oe=c(424),ie=c(421),be=c(423),je=c(422),ue=c(39);function le(){var e=Object(ue.b)(),t=Object(a.useState)(""),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)([]),o=Object(j.a)(s,2),i=(o[0],o[1]),b=Object(a.useState)(0),u=Object(j.a)(b,2),l=u[0],O=u[1],x=function(){var t=Object(p.a)(f.a.mark((function t(c){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.target.files[0]),t.prev=1,r(""),a=Object(ue.d)(e,c.target.files[0].name),t.next=6,Object(ue.e)(a,c.target.files[0]);case 6:return console.log("Uploaded a blob or file!"),t.next=9,Object(ue.a)(a);case 9:n=t.sent,console.log(n),O((function(e){return e+1})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0.code),"storage/unauthorized"===t.t0.code&&r("\u5c1a\u672a\u767b\u5165");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){function t(){return t=Object(p.a)(f.a.mark((function t(){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r("waiting..."),c=Object(ue.d)(e,"/"),t.next=5,Object(ue.c)(c);case 5:a=t.sent,i([]),a.items.forEach(function(){var e=Object(p.a)(f.a.mark((function e(t){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)(t);case 2:c=e.sent,i((function(e){return[].concat(Object(te.a)(e),[{img:c,title:t.name}])}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(""),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),r(t.t0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,l]),Object(Q.jsxs)(d.a,{children:[Object(Q.jsx)(ne.a,{type:"file",accept:"image/x-png,image/jpeg",onChange:x}),Object(Q.jsx)("br",{}),n]})}var de=c(32),Oe=c.n(de),fe=c(433),pe=(Object(L.b)(_),Object(D.d)());function xe(e){Object(a.useContext)(k);var t=Object(z.b)().currentUser;if(t){var c=t.email;t.uid;console.log("loginemail:"+c)}else console.log("\u6c92\u6709\u767b\u5165");var r=Object(a.useState)(!1),s=Object(j.a)(r,2),o=(s[0],s[1]),i=Object(a.useState)([]),b=Object(j.a)(i,2),u=b[0],l=b[1];Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(f.a.mark((function e(){var c,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),c=Object(D.b)(pe,"user"),e.next=4,Object(D.c)(Object(D.e)(c,Object(D.f)("useremail","==",t.email)));case 4:a=e.sent,n=[],a.forEach((function(e){console.log(e.id," => ",e.data()),n.push({useremail:e.data().useremail,userauth:e.data().userauth,username:e.data().username})})),console.log(n),l([].concat(n)),o(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[pe]);var O=Object(a.useState)({bfname:"",bfprice:0,bfimage:"",bfdesc:""}),x=Object(j.a)(O,2),h=x[0],m=x[1],g=function(e){m(Object(ee.a)(Object(ee.a)({},h),{},Object(Z.a)({},e.target.name,e.target.value)))},v=function(){var t=Object(p.a)(f.a.mark((function t(){var c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D.a)(Object(D.b)(pe,"breakfast"),{bfprice:parseInt(h.bfprice),bfimage:(a=h.bfimage,"https://firebasestorage.googleapis.com/v0/b/appcart-39b32.appspot.com/o/"+a+"?alt=media"),bfname:h.bfname,bfdesc:h.bfdesc});case 3:c=t.sent,console.log(c.id),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:e.update(h),Oe.a.fire({icon:"success",title:"\u65b0\u589e\u6210\u529f\uff0c\u8acb\u91cd\u65b0\u5237\u65b0\u9801\u9762"});case 12:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();var y=n.a.useState(!1),w=Object(j.a)(y,2),S=w[0],C=w[1],I=function(){C(!0)},E=function(){C(!1)};return Object(Q.jsxs)("div",{children:[u.map((function(e){return Object(Q.jsx)(d.a,{children:"1"!=e.userauth?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(fe.a,{children:Object(Q.jsx)(ce.a,{color:"primary","aria-label":"Add",onClick:I,children:"+"})})})})),Object(Q.jsxs)(ae.a,{open:S,onClose:E,children:[Object(Q.jsx)(se.a,{id:"alert-dialog-title",children:"\u65b0\u589e\u7522\u54c1"}),Object(Q.jsx)(ie.a,{children:Object(Q.jsxs)(je.a,{id:"alert-dialog-description",children:["\u7522\u54c1\u540d\u7a31:",Object(Q.jsx)(ne.a,{type:"text",name:"bfname",value:h.bfname,onChange:g}),Object(Q.jsx)("br",{}),"\u7522\u54c1\u50f9\u683c:",Object(Q.jsx)(ne.a,{type:"number",name:"bfprice",value:h.bfprice,onChange:g}),Object(Q.jsx)("br",{}),"\u7522\u54c1\u6558\u8ff0:",Object(Q.jsx)(ne.a,{type:"text",name:"bfdesc",value:h.bfdesc,onChange:g}),Object(Q.jsx)("br",{}),"\u5716\u7247\u6a94\u540d:",Object(Q.jsx)(ne.a,{type:"text",name:"bfimage",value:h.bfimage,onChange:g}),Object(Q.jsx)("br",{}),Object(Q.jsx)(be.a,{id:"outlined-weight-helper-text",children:"\u8acb\u5b8c\u6574\u8f38\u5165\u6a94\u540d(\u4f8b\uff1a\u5fae\u7b11\u85af\u9905.jpg)"}),Object(Q.jsx)(le,{})]})}),Object(Q.jsxs)(oe.a,{children:[Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:v,children:"\u65b0\u589e"}),Object(Q.jsx)(re.a,{onClick:E,children:"\u95dc\u9589"})]})]})]})}var he=c(436),me=c(116),ge=c.n(me),ve=c(103),ye=c.n(ve);c(425),c(426);var ke=c(427),we=c(430),Se=c(429),Ce=c(428),Ie=c(348),Ee=c(404);function qe(){Object(L.b)(_);var e=Object(D.d)();console.log("db_line43:"+e);var t=Object(z.b)().currentUser;if(t){var c=t.email;t.uid;console.log("email:"+c)}else console.log("\u6c92\u767b\u5165");var r=function(){var a=Object(p.a)(f.a.mark((function a(n,r){var s,o,i,b,j,u,l,d,O,p,x,h,m,g;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=Object(w.h)(Object(w.b)(e,"cart"),Object(w.k)("ctstate","==",0),Object(w.k)("useremail","==",t.email)),a.next=3,Object(w.e)(Object(w.h)(s));case 3:if(1!=a.sent.empty){a.next=31;break}return a.next=7,Object(w.e)(Object(w.b)(e,"cart"));case 7:return o=a.sent,0,b=0,j=0,u=[],o.forEach((function(e){u.push(parseInt(e.id)),j=Math.max.apply(Math,u)})),i=j.toString(),l=parseInt(i)+1,d=l.toString(),a.prev=16,a.next=19,Object(w.i)(Object(w.d)(e,"cart",d),{ctaddress:"",ctstate:0,useremail:c});case 19:return b=Object(w.d)(e,"cart",d),a.next=22,Object(w.a)(Object(w.b)(b,"ctcontent"),{bfname:n,bfprice:r,bfquantity:1,useremail:c});case 22:a.sent,Oe.a.fire({icon:"success",title:"\u5df2\u52a0\u5165\u8cfc\u7269\u8eca\uff01",text:"\u8acb\u81f3\u60a8\u7684\u8cfc\u7269\u8eca\u5167\u78ba\u8a8d"}),a.next=29;break;case 26:a.prev=26,a.t0=a.catch(16),console.log(a.t0);case 29:a.next=56;break;case 31:return console.log("db_line93:"+e),console.log("useremail:"+t.email),a.next=35,Object(w.e)(Object(w.h)(Object(w.b)(e,"cart"),Object(w.k)("useremail","==",t.email)));case 35:return O=a.sent,p=0,0,h=0,m=[],console.log(O),O.forEach((function(e){console.log(e.id," => ",e.data()),m.push(parseInt(e.id)),p=e,h=Math.max.apply(Math,m)})),x=h.toString(),console.log(x),a.prev=44,p=Object(w.d)(e,"cart",x),a.next=48,Object(w.a)(Object(w.b)(p,"ctcontent"),{bfname:n,bfprice:r,bfquantity:1,useremail:c});case 48:g=a.sent,console.log(g.id),Oe.a.fire({icon:"success",title:"\u5df2\u52a0\u5165\u8cfc\u7269\u8eca\uff01",text:"\u8acb\u81f3\u60a8\u7684\u8cfc\u7269\u8eca\u5167\u78ba\u8a8d"}),a.next=56;break;case 53:a.prev=53,a.t1=a.catch(44),console.log(a.t1);case 56:case"end":return a.stop()}}),a,null,[[16,26],[44,53]])})));return function(e,t){return a.apply(this,arguments)}}(),s=(Object(a.useContext)(k),n.a.useState(1)),o=Object(j.a)(s,2),i=(o[0],o[1],Object(a.useState)([])),b=Object(j.a)(i,2),u=b[0],l=b[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(f.a.mark((function t(){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ce(!0),t.next=3,Object(w.e)(Object(w.b)(e,"breakfast"));case 3:c=t.sent,a=[],c.forEach((function(e){console.log(e.id," => ",e.data()),a.push({id:e.id,bfdesc:e.data().bfdesc,bfname:e.data().bfname,bfprice:e.data().bfprice,bfimage:e.data().bfimage})})),console.log(a),l([].concat(a)),ce(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var O=Object(a.useState)([]),x=Object(j.a)(O,2),h=x[0],m=x[1];Object(a.useEffect)((function(){function c(){return(c=Object(p.a)(f.a.mark((function c(){var a,n,r;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return ce(!0),a=Object(w.b)(e,"user"),c.next=4,Object(w.e)(Object(w.h)(a,Object(w.k)("useremail","==",t.email)));case 4:n=c.sent,r=[],n.forEach((function(e){console.log(e.id," => ",e.data()),r.push({useremail:e.data().useremail,userauth:e.data().userauth,username:e.data().username})})),console.log(r),m([].concat(r)),ce(!1);case 10:case"end":return c.stop()}}),c)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[e]),h.map((function(e){return console.log(e.userauth)}));Object(w.g)(Object(w.d)(e,"breakfast","SF"),(function(e){console.log("Current data: ",e.data())}));var g=n.a.useState(!1),v=Object(j.a)(g,2),y=v[0],S=v[1],C=function(){S(!1)},I=Object(a.useState)([]),E=Object(j.a)(I,2),q=E[0],B=E[1],M=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ce(!0),t.next=4,Object(w.c)(Object(w.d)(e,"breakfast",c));case 4:B(q+1),ce(!1),Oe.a.fire({icon:"success",title:"\u522a\u9664\u6210\u529f\uff0c\u8acb\u91cd\u65b0\u5237\u65b0\u9801\u9762"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),P=Object(a.useState)({bfname:"",bfprice:0,bfimage:"",bfdesc:""}),T=Object(j.a)(P,2),U=T[0],N=T[1],A=function(e){N(Object(ee.a)(Object(ee.a)({},U),{},Object(Z.a)({},e.target.name,e.target.value)))},F=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(H),t.next=4,Object(w.j)(Object(w.d)(e,"breakfast",H),{bfprice:parseInt(c.bfprice),bfname:c.bfname,bfdesc:c.bfdesc});case 4:Oe.a.fire({icon:"success",title:"\u7de8\u8f2f\u6210\u529f\uff0c\u8acb\u91cd\u65b0\u5237\u65b0\u9801\u9762"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),R=Object(a.useState)(0),$=Object(j.a)(R,2),H=$[0],J=$[1],G=function(e){S(!0),J(e.id)},K=Object(a.useState)(!1),X=Object(j.a)(K,2),Y=X[0],ce=X[1],be=function(){return Object(Q.jsx)(Ee.a,{sx:{width:"100%",maxWidth:360},spacing:2,children:u.map((function(e,t){return Object(Q.jsxs)(ke.a,{children:[Object(Q.jsx)(Ce.a,{component:"img",height:"140",image:e.bfimage}),Object(Q.jsxs)(Se.a,{divider:!0,children:[Object(Q.jsx)(Ie.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.bfname}),Object(Q.jsxs)(Ie.a,{variant:"body2",color:"text.secondary",children:[e.bfdesc,Object(Q.jsx)("br",{}),"NT$"+e.bfprice]})]},t),Object(Q.jsxs)(we.a,{children:[Object(Q.jsx)(d.a,{children:Object(Q.jsx)(re.a,{onClick:function(){return r(e.bfname,e.bfprice)},variant:"contained",startIcon:Object(Q.jsx)(W.a,{}),color:"secondary",children:"\u52a0\u5165\u8cfc\u7269\u8eca"})}),h.map((function(t){return Object(Q.jsx)(d.a,{children:"1"!=t.userauth?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(re.a,{style:{borderRadius:50},onClick:function(){return G(e)},variant:"contained",startIcon:Object(Q.jsx)(ye.a,{}),color:"primary",children:"\u7de8\u8f2f"})})})),h.map((function(t){return Object(Q.jsx)(d.a,{children:"1"!=t.userauth?Object(Q.jsx)(d.a,{}):Object(Q.jsx)(re.a,{style:{borderRadius:50},onClick:function(){return M(e.id)},variant:"contained",startIcon:Object(Q.jsx)(ge.a,{}),color:"primary",children:"\u522a\u9664"})})}))]})]})}))})};return Object(Q.jsxs)(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(Q.jsx)(V,{}),Y?Object(Q.jsx)(he.a,{}):Object(Q.jsx)(be,{}),Object(Q.jsxs)(ae.a,{open:y,onClose:C,children:[Object(Q.jsx)(se.a,{id:"alert-dialog-title",children:"\u4fee\u6539\u7522\u54c1"}),Object(Q.jsxs)(ie.a,{children:["\u7522\u54c1\u63cf\u8ff0:",Object(Q.jsx)(ne.a,{type:"text",name:"bfname",value:U.bfname,onChange:A}),Object(Q.jsx)("br",{}),"\u7522\u54c1\u50f9\u683c:",Object(Q.jsx)(ne.a,{type:"number",name:"bfprice",value:U.bfprice,onChange:A}),Object(Q.jsx)("br",{}),"\u7522\u54c1\u6558\u8ff0:",Object(Q.jsx)(ne.a,{type:"text",name:"bfdesc",value:U.bfdesc,onChange:A})]}),Object(Q.jsxs)(oe.a,{children:[Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){return F(U)},children:"\u7de8\u8f2f"}),Object(Q.jsx)(re.a,{onClick:C,children:"\u95dc\u9589"})]})]}),Object(Q.jsx)(xe,{update:function(e){l((function(t){return[].concat(Object(te.a)(t),[e])}))}})]})}var We=c(412),Be=c(437),Me=c(438),Pe=c(187),Te=c.n(Pe),Ue=c(406),Ne=c(186),Ae=c.n(Ne);function Fe(){Object(L.b)(_);var e=Object(w.f)(),t=(Object(a.useContext)(k),n.a.useState(1)),c=Object(j.a)(t,2),r=c[0],s=c[1],o=Object(z.b)().currentUser;if(o){var i=o.email;console.log("email:"+i)}else console.log("\u6c92\u767b\u5165");var b=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.bfquantity),console.log(c.id),t.next=4,Object(w.i)(Object(w.d)(e,"cart",h,"ctcontent",c.id),{bfname:c.bfname,bfprice:c.bfprice,bfquantity:parseInt(c.bfquantity)-1,useremail:o.email});case 4:I(parseInt(C)-parseInt(c.bfprice));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.bfquantity),console.log(c.id),t.next=4,Object(w.i)(Object(w.d)(e,"cart",h,"ctcontent",c.id),{bfname:c.bfname,bfprice:c.bfprice,bfquantity:parseInt(c.bfquantity)+1,useremail:o.email});case 4:I(parseInt(C)+parseInt(c.bfprice));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(p.a)(f.a.mark((function t(){var c,a,n,r,s,o,i,b,j,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(z.b)(),a=c.currentUser,n=a.email,t.next=5,Object(w.e)(Object(w.b)(e,"order"));case 5:return r=t.sent,console.log("querySnapshot:"+r),0,o=0,i=[],r.forEach((function(e){console.log(e.id," => ",e.data()),i.push(parseInt(e.id)),o=Math.max.apply(Math,i)})),s=o.toString(),b=parseInt(s)+1,j=b.toString(),t.next=16,Object(w.i)(Object(w.d)(e,"order",j),{address:Z,state:0,email:n,cost:C});case 16:return u=Object(w.d)(e,"cart",h),t.next=19,Object(w.e)(Object(w.b)(u,"ctcontent"));case 19:return t.sent.forEach((function(t){Object(w.a)(Object(w.b)(e,"order",j,"content"),{bfname:t.data().bfname,bfprice:t.data().bfprice,bfquantity:t.data().bfquantity});console.log(t.data())})),Oe.a.fire({icon:"success",title:"\u8a02\u55ae\u9001\u51fa\u6210\u529f\uff01"}),console.log(h),t.next=25,Object(w.c)(Object(w.d)(e,"cart",h));case 25:G();case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(a.useState)(0),x=Object(j.a)(O,2),h=x[0],m=x[1],g=Object(a.useState)(0),v=Object(j.a)(g,2),y=(v[0],v[1],Object(a.useState)(0)),S=Object(j.a)(y,2),C=S[0],I=S[1],E=Object(a.useState)(0),q=Object(j.a)(E,2),W=(q[0],q[1],Object(a.useState)([])),B=Object(j.a)(W,2),M=B[0],P=B[1];Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(f.a.mark((function t(){var c,a,n,r,s,i,b,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(o),c=Object(w.h)(Object(w.b)(e,"cart"),Object(w.k)("ctstate","==",0),Object(w.k)("useremail","==",o.email)),t.next=4,Object(w.e)(Object(w.h)(c));case 4:if(a=t.sent,console.log("db_line64:"+e),1!=a.empty){t.next=10;break}console.log("\u8cfc\u7269\u8eca\u70ba\u7a7a"),t.next=31;break;case 10:return console.log("db_line69:"+e),console.log("useremail:"+o.email),n=0,r=0,0,console.log(a),i=[],a.forEach((function(e){i.push(parseInt(e.id)),console.log(e.id," => ",e.data()),n=e,r=Math.max.apply(Math,i)})),console.log(i),console.log(r),s=r.toString(),console.log(n),console.log(s),m(s),n=Object(w.d)(e,"cart",s),t.next=27,Object(w.e)(Object(w.b)(n,"ctcontent"));case 27:b=t.sent,j=[],b.forEach((function(e){console.log(e.id," => ",e.data()),j.push({id:e.id,bfname:e.data().bfname,bfprice:e.data().bfprice,bfquantity:e.data().bfquantity}),I((function(t){return parseInt(t)+parseInt(e.data().bfprice)*parseInt(e.data().bfquantity)})),console.log(C),console.log(e.data().bfprice)})),P([].concat(j));case 31:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var T=Object(a.useState)([]),U=Object(j.a)(T,2),N=U[0],A=U[1],F=function(){var t=Object(p.a)(f.a.mark((function t(c){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(w.h)(Object(w.b)(e,"cart"),Object(w.k)("ctstate","==",0),Object(w.k)("useremail","==",o.email)),t.next=4,Object(w.e)(Object(w.h)(a));case 4:return n=t.sent,r=0,s=0,n.forEach((function(e){console.log(e.id," => ",e.data()),r=e,s=e.id})),r=Object(w.d)(e,"cart",s),t.next=11,Object(w.c)(Object(w.d)(r,"ctcontent",c));case 11:A(N+1),Oe.a.fire({icon:"success",title:"\u522a\u9664\u6210\u529f\uff0c\u8acb\u91cd\u65b0\u6574\u7406\u9801\u9762"}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),R=n.a.useState(!1),$=Object(j.a)(R,2),D=$[0],H=$[1],J=function(){H(!0)},G=function(){H(!1)},X=Object(a.useState)(),Y=Object(j.a)(X,2),Z=Y[0],ee=Y[1],te=function(){return 0==M?Object(Q.jsx)(K.a,{style:{padding:"64px 0"},image:Object(Q.jsx)(Ae.a,{style:{color:"var(--adm-color-light)",fontSize:48}}),description:"\u8cfc\u7269\u8eca\u662f\u7a7a\u7684\uff0c\u52a0\u4e00\u4e9b\u6771\u897f\u9032\u53bb\u5427"}):Object(Q.jsxs)(fe.a,{"aria-label":"employee list",children:[M.map((function(e,t){return Object(Q.jsxs)(We.a,{divider:!0,onClick:function(){return function(e){s(e)}(t)},selected:r===t,children:[Object(Q.jsx)(Be.a,{primary:e.bfname,secondary:"NT$"+e.bfprice}),Object(Q.jsx)("button",{onClick:function(){return b(e)},children:"-"}),Object(Q.jsx)("input",{id:"num",value:e.bfquantity,size:"1"}),Object(Q.jsx)("button",{onClick:function(){return u(e)},children:"+"}),Object(Q.jsx)(Ue.a,{title:"\u522a\u9664",children:Object(Q.jsx)(Me.a,{edge:"end",onClick:function(){return F(e.id)},children:Object(Q.jsx)(ge.a,{})})})]},t)})),Object(Q.jsxs)(We.a,{children:[Object(Q.jsxs)(Be.a,{children:["\u91d1\u984d\uff1a",C]}),Object(Q.jsx)(re.a,{variant:"contained",endIcon:Object(Q.jsx)(Te.a,{}),onClick:J,children:"\u9001\u51fa\u8a02\u55ae"})]})]})};return Object(Q.jsxs)(d.a,{sx:{width:"100vw",maxWidth:360,height:"100vh",backgroundColor:"background.paper",color:"black",textAlign:"left"},children:[Object(Q.jsx)(V,{}),Object(Q.jsx)(te,{}),Object(Q.jsxs)(ae.a,{open:D,onClose:G,children:[Object(Q.jsx)(se.a,{id:"alert-dialog-title",children:"\u8acb\u8f38\u5165\u9001\u9054\u5730\u5740"}),Object(Q.jsx)(ie.a,{children:Object(Q.jsxs)(je.a,{id:"alert-dialog-description",children:["\u5730\u5740\uff1a",Object(Q.jsx)(ne.a,{type:"text",name:"bfname",onChange:function(e){ee(e.target.value)}}),Object(Q.jsx)("br",{})]})}),Object(Q.jsxs)(oe.a,{children:[Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:function(){return l()},children:"\u9001\u51fa"}),Object(Q.jsx)(re.a,{onClick:G,children:"\u53d6\u6d88"})]})]})]})}var ze=c(413),Le=c(439),Re=c(440),_e=c(67),$e=c.n(_e),De=c(188),He=c.n(De),Je=c(189),Qe=c.n(Je);function Ve(){Object(L.b)(_);var e=Object(w.f)(),t=Object(a.useState)([]),c=Object(j.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)([]),i=Object(j.a)(o,2),b=(i[0],i[1]),u=Object(a.useState)([]),l=Object(j.a)(u,2),O=(l[0],l[1],Object(a.useState)(!1)),x=Object(j.a)(O,2),h=x[0],m=x[1];Object(a.useEffect)((function(){function t(){return t=Object(p.a)(f.a.mark((function t(){var c,a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),c=Object(w.b)(e,"order"),t.next=4,Object(w.e)(Object(w.h)(c,Object(w.k)("state","==",0)));case 4:a=t.sent,n=[],r=[],a.forEach(function(){var t=Object(p.a)(f.a.mark((function t(c){var a,o,i,b;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.id," => ",c.data()),r.push("order/"+c.id+"/content"),a="order/"+c.id+"/content",o=Object(w.b)(e,a),t.next=6,Object(w.e)(o);case 6:i=t.sent,b=[],i.forEach((function(e){console.log(e.id," => ",e.data()),b.push({id:e.id,bfname:e.data().bfname,bfprice:e.data().bfprice,bfquantity:e.data().bfquantity})})),n.push({id:c.id,address:c.data().address,email:c.data().email,state:c.data().state,productsr:b}),s((function(e){return[].concat(Object(te.a)(e),[{id:c.id,address:c.data().address,email:c.data().email,cost:c.data().cost,state:c.data().state,productsr:b}])}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log("\u672a\u5b8c\u6210id:"+r),console.log(n),m(!1),b([].concat(r));case 12:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var g=Object(a.useState)(0),v=Object(j.a)(g,2),y=(v[0],v[1],n.a.useState(!1)),k=Object(j.a)(y,2),S=(k[0],k[1],function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c),t.next=4,Object(w.j)(Object(w.d)(e,"order",c),{state:1});case 4:Oe.a.fire({icon:"success",title:"\u5b8c\u6210\u8a02\u55ae\uff0c\u8acb\u91cd\u6574\u9801\u9762"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),C=function(){var t=Object(p.a)(f.a.mark((function t(c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(c),t.next=4,Object(w.j)(Object(w.d)(e,"order",c),{state:2});case 4:Oe.a.fire({icon:"success",title:"\u6b64\u8a02\u55ae\u5df2\u53d6\u6d88\uff0c\u8acb\u91cd\u6574\u9801\u9762"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),I=Object(a.useState)(0),E=Object(j.a)(I,2),q=(E[0],E[1],function(){return Object(Q.jsx)(d.a,{children:r.map((function(e,t){return Object(Q.jsxs)(ze.a,{children:[Object(Q.jsx)(Le.a,{expandIcon:Object(Q.jsx)($e.a,{}),"aria-controls":"panel1a-content",id:t,children:Object(Q.jsx)(Ie.a,{children:e.email})}),Object(Q.jsxs)(Re.a,{children:[Object(Q.jsxs)("strong",{children:["\u5730\u5740\uff1a",e.address]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("strong",{children:["\u7e3d\u91d1\u984d\uff1a",e.cost]}),Object(Q.jsxs)(Ie.a,{children:[e.productsr.map((function(e,t){return Object(Q.jsx)(Be.a,{primary:"\u54c1\u9805\uff1a"+e.bfname,secondary:"\u4efd\u6578\uff1a"+e.bfquantity})})),Object(Q.jsxs)(Ee.a,{direction:"row",spacing:1,children:[Object(Q.jsx)(re.a,{variant:"contained",color:"success",edge:"end",onClick:function(){return S(e.id)},startIcon:Object(Q.jsx)(He.a,{}),children:"\u5b8c\u6210\u8a02\u55ae"}),Object(Q.jsx)(re.a,{variant:"contained",color:"error",edge:"end",onClick:function(){return C(e.id)},startIcon:Object(Q.jsx)(Qe.a,{}),children:"\u53d6\u6d88\u8a02\u55ae"})]})]})]})]})}))})});return Object(Q.jsxs)(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(Q.jsx)(V,{}),Object(Q.jsx)(fe.a,{"aria-label":"employee list"}),h?Object(Q.jsx)(he.a,{}):Object(Q.jsx)(q,{})]})}var Ge=c(410);function Ke(){Object(L.b)(_);var e=Object(w.f)(),t=Object(a.useState)([]),c=Object(j.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)([]),i=Object(j.a)(o,2),b=(i[0],i[1]),u=Object(a.useState)([]),l=Object(j.a)(u,2),O=(l[0],l[1],Object(a.useState)(!1)),x=Object(j.a)(O,2),h=x[0],m=x[1];Object(a.useEffect)((function(){function t(){return t=Object(p.a)(f.a.mark((function t(){var c,a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),c=Object(w.b)(e,"order"),t.next=4,Object(w.e)(Object(w.h)(c,Object(w.k)("state","!=",0)));case 4:a=t.sent,n=[],r=[],a.forEach(function(){var t=Object(p.a)(f.a.mark((function t(c){var a,o,i,b;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.id," => ",c.data()),r.push("order/"+c.id+"/content"),a="order/"+c.id+"/content",o=Object(w.b)(e,a),t.next=6,Object(w.e)(o);case 6:i=t.sent,b=[],i.forEach((function(e){console.log(e.id," => ",e.data()),b.push({id:e.id,bfname:e.data().bfname,bfprice:e.data().bfprice,bfquantity:e.data().bfquantity})})),n.push({id:c.id,address:c.data().address,email:c.data().email,state:c.data().state,productsr:b}),s((function(e){return[].concat(Object(te.a)(e),[{id:c.id,address:c.data().address,email:c.data().email,cost:c.data().cost,state:c.data().state,productsr:b}])}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log("\u672a\u5b8c\u6210id:"+r),console.log(n),m(!1),b([].concat(r));case 12:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var g=Object(a.useState)(0),v=Object(j.a)(g,2),y=(v[0],v[1],n.a.useState(!1)),k=Object(j.a)(y,2),S=(k[0],k[1],Object(a.useState)(0)),C=Object(j.a)(S,2),I=(C[0],C[1],function(e){if("2"==e)return Object(Q.jsx)(K.c,{round:!0,color:"danger",children:"\u5df2\u53d6\u6d88"})}),E=function(){return Object(Q.jsx)(d.a,{children:r.map((function(e,t){return Object(Q.jsxs)(ze.a,{children:[Object(Q.jsx)(Le.a,{expandIcon:Object(Q.jsx)($e.a,{}),"aria-controls":"panel1a-content",id:t,children:Object(Q.jsxs)(Ie.a,{children:[e.email," ",I(e.state)]})}),(c=e.state,"1"==c?Object(Q.jsx)(Ge.a,{severity:"success",children:"\u8a02\u55ae\u5df2\u6210\u529f\u9001\u51fa"}):Object(Q.jsx)(Ge.a,{severity:"error",children:"\u8a02\u55ae\u5df2\u88ab\u53d6\u6d88"})),Object(Q.jsxs)(Re.a,{children:[Object(Q.jsxs)("strong",{children:["\u5730\u5740\uff1a",e.address]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("strong",{children:["\u7e3d\u91d1\u984d\uff1a",e.cost]}),Object(Q.jsx)(Ie.a,{children:e.productsr.map((function(e,t){return Object(Q.jsx)(Be.a,{primary:"\u54c1\u9805\uff1a"+e.bfname,secondary:"\u4efd\u6578\uff1a"+e.bfquantity})}))})]})]});var c}))})};return Object(Q.jsxs)(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(Q.jsx)(V,{}),Object(Q.jsx)(fe.a,{"aria-label":"employee list"}),h?Object(Q.jsx)(he.a,{}):Object(Q.jsx)(E,{})]})}var Xe=c(407),Ye=c(416),Ze=c(190),et=c.n(Ze),tt=(Object(L.b)(_),Object(D.d)());function ct(){var e;0===Object(L.a)().length&&Object(L.b)(_);var t=Object(a.useContext)(k),c=Object(a.useState)({email:"",password:"",displayName:""}),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(""),i=Object(j.a)(o,2),b=i[0],u=(i[1],function(e){s(Object(ee.a)(Object(ee.a)({},r),{},Object(Z.a)({},e.target.name,e.target.value)))}),l=function(){var e=Object(p.a)(f.a.mark((function e(){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(z.b)(),e.next=4,Object(z.a)(c,r.email,r.password);case 4:if(!e.sent){e.next=13;break}return e.next=8,Object(z.e)(c.currentUser,{displayName:r.displayName});case 8:return t.setStatus(g),e.next=11,Object(D.a)(Object(D.b)(tt,"user"),{userauth:parseInt("0"),useremail:r.email,username:r.name});case 11:a=e.sent,console.log(a.id);case 13:Oe.a.fire({icon:"success",title:"Success",text:"\u8a3b\u518a\u6210\u529f\uff0c\u53ef\u4ee5\u767b\u5165\u4e86\u3002",confirmButtonText:"\u78ba\u5b9a"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Oe.a.fire({icon:"error",title:"Oops...",text:"\u8f38\u5165\u932f\u8aa4\u6216\u5df2\u7d93\u8a3b\u518a\u904e\u4e86\u3002",confirmButtonText:"\u95dc\u9589",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"\u95dc\u9589"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function O(){return Object(Q.jsx)(d.a,{sx:{height:5,backgroundColor:function(e){return"light"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgb(255 132 132 / 25%)"}}})}return Object(Q.jsx)(d.a,(e={component:"form",sx:{"& .MuiTextField-root":{m:.5,width:"25ch"}},noValidate:!0,autoComplete:"off"},Object(Z.a)(e,"sx",{width:"100%",maxWidth:360,bgcolor:"background.paper"}),Object(Z.a)(e,"children",Object(Q.jsx)(ke.a,{children:Object(Q.jsxs)(Se.a,{children:[Object(Q.jsx)(Ie.a,{children:Object(Q.jsx)(d.a,{display:"flex",justifyContent:"center",alignItems:"center",p:2,children:Object(Q.jsx)(Ye.a,{children:Object(Q.jsx)(et.a,{})})})}),Object(Q.jsx)(Ie.a,{variant:"body2",align:"center",children:Object(Q.jsxs)("form",{children:[Object(Q.jsx)(Xe.a,{type:"text",name:"name",value:r.name,placeholder:"\u59d3\u540d",label:"\u59d3\u540d:",onChange:u}),Object(Q.jsx)("br",{}),Object(Q.jsx)(O,{}),Object(Q.jsx)(Xe.a,{type:"email",name:"email",value:r.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:u,autoComplete:"email"}),Object(Q.jsx)("br",{}),Object(Q.jsx)(O,{}),Object(Q.jsx)(Xe.a,{type:"password",name:"password",value:r.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:u,autoComplete:"current-password"}),Object(Q.jsx)("br",{}),b,Object(Q.jsx)("br",{}),Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:l,children:"\u8a3b\u518a"}),Object(Q.jsx)("br",{}),"\u5df2\u7d93\u6709\u5e33\u865f\u4e86\uff1f",Object(Q.jsx)(re.a,{color:"secondary",onClick:function(){t.setStatus(g)},children:"\u767b\u5165"})]})})]})})),e))}var at=c(191),nt=c.n(at);Object(L.b)(_),Object(D.d)();function rt(){var e;0===Object(L.a)().length&&Object(L.b)(_);var t=Object(a.useContext)(k),c=Object(a.useState)({email:"",password:"",displayName:""}),n=Object(j.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(""),i=Object(j.a)(o,2),b=i[0],u=i[1],l=function(e){s(Object(ee.a)(Object(ee.a)({},r),{},Object(Z.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(p.a)(f.a.mark((function e(){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(z.b)(),e.next=4,Object(z.c)(c,r.email,r.password);case 4:e.sent&&t.setStatus(v),u(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Oe.a.fire({icon:"error",title:"Oops...",text:"\u5e33\u865f\u6216\u5bc6\u78bc\u8f38\u5165\u932f\u8aa4\u3002",confirmButtonText:"\u95dc\u9589",showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"\u95dc\u9589"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function x(){return Object(Q.jsx)(d.a,{sx:{height:5,backgroundColor:function(e){return"light"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgb(255 132 132 / 25%)"}}})}return Object(Q.jsx)(d.a,(e={component:"form",sx:{"& .MuiTextField-root":{m:.5,width:"25ch"}},noValidate:!0,autoComplete:"off"},Object(Z.a)(e,"sx",{width:"100%",maxWidth:360,bgcolor:"background.paper"}),Object(Z.a)(e,"children",Object(Q.jsx)(ke.a,{children:Object(Q.jsxs)(Se.a,{children:[Object(Q.jsx)(Ie.a,{children:Object(Q.jsx)(d.a,{display:"flex",justifyContent:"center",alignItems:"center",p:2,children:Object(Q.jsx)(Ye.a,{children:Object(Q.jsx)(nt.a,{})})})}),Object(Q.jsx)(Ie.a,{variant:"body2",align:"center",children:Object(Q.jsxs)("form",{children:[Object(Q.jsx)(Xe.a,{type:"text",name:"email",value:r.email,placeholder:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1",label:"\u96fb\u5b50\u90f5\u4ef6\u4fe1\u7bb1:",onChange:l,autoComplete:"email"}),Object(Q.jsx)("br",{}),Object(Q.jsx)(x,{}),Object(Q.jsx)(Xe.a,{type:"password",name:"password",value:r.password,placeholder:"\u5bc6\u78bc",label:"\u5bc6\u78bc:",onChange:l,autoComplete:"current-password"}),Object(Q.jsx)("br",{}),b,Object(Q.jsx)("br",{}),Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:O,children:"\u767b\u5165"}),Object(Q.jsx)("br",{}),"\u9084\u6c92\u6709\u5e33\u865f\uff1f",Object(Q.jsx)(re.a,{color:"secondary",onClick:function(){t.setStatus(y)},children:"\u8a3b\u518a"})]})})]})})),e))}var st=c(417),ot=c(192),it=c.n(ot);function bt(){0===Object(L.a)().length&&Object(L.b)(_);Object(L.b)(_);var e=Object(w.f)(),t=Object(a.useContext)(k),c=Object(a.useState)(""),n=Object(j.a)(c,2),r=(n[0],n[1]),s=Object(a.useState)([]),o=Object(j.a)(s,2),i=o[0],b=o[1],u=function(){var e=Object(p.a)(f.a.mark((function e(){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(z.b)(),e.next=4,Object(z.d)(c);case 4:r(""),t.setStatus(g),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(""+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),l=Object(z.b)().currentUser;if(l){var O=l.email,x=l.uid;console.log(O,x)}function h(){return Object(Q.jsx)(d.a,{sx:{height:5,backgroundColor:function(e){return"light"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgb(255 132 132 / 25%)"}}})}function m(e){var t,c=0;for(t=0;t<e.length;t+=1)c=e.charCodeAt(t)+((c<<5)-c);var a="#";for(t=0;t<3;t+=1){a+="00".concat((c>>8*t&255).toString(16)).substr(-2)}return a}Object(a.useEffect)((function(){function t(){return(t=Object(p.a)(f.a.mark((function t(){var c,a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(w.b)(e,"user"),t.next=3,Object(w.e)(Object(w.h)(c,Object(w.k)("useremail","==",O)));case 3:a=t.sent,n=[],a.forEach((function(e){n.push(e.data().username)})),console.log(n),b([].concat(n));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var v=function(){return Object(Q.jsx)(ke.a,{sx:{maxWidth:360},children:Object(Q.jsxs)(Se.a,{children:[Object(Q.jsxs)(Ie.a,{align:"center",children:[Object(Q.jsx)(st.a,{avatar:Object(Q.jsx)(Ye.a,Object(ee.a)({},(e=O,{sx:{bgcolor:m(e)},children:"".concat(e.split(" ")[0][0])}))),label:i,variant:"outlined"}),Object(Q.jsx)("br",{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),"\u6b61\u8fce\u4f7f\u7528",Object(Q.jsx)("br",{}),O]}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(h,{}),Object(Q.jsx)(Ie.a,{align:"center",children:Object(Q.jsx)(re.a,{variant:"contained",color:"primary",onClick:u,startIcon:Object(Q.jsx)(it.a,{}),children:"\u767b\u51fa"})})]})});var e};return Object(Q.jsx)(d.a,{children:Object(Q.jsx)(v,{})})}function jt(){var e=Object(a.useContext)(k);return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(V,{}),e.status===y?Object(Q.jsx)(ct,{}):e.status===g?Object(Q.jsx)(rt,{}):Object(Q.jsx)(bt,{})]})}function ut(){Object(L.b)(_);var e=Object(w.f)(),t=Object(z.b)().currentUser;if(t){var c=t.email,r=t.uid;console.log(c,r)}var s=Object(a.useState)([]),o=Object(j.a)(s,2),i=o[0],b=o[1],u=Object(a.useState)([]),l=Object(j.a)(u,2),O=(l[0],l[1]),x=Object(a.useState)([]),h=Object(j.a)(x,2),m=(h[0],h[1],Object(a.useState)(!1)),g=Object(j.a)(m,2),v=g[0],y=g[1];Object(a.useEffect)((function(){function t(){return t=Object(p.a)(f.a.mark((function t(){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),a=Object(w.b)(e,"order"),t.next=4,Object(w.e)(Object(w.h)(a,Object(w.k)("email","==",c)));case 4:n=t.sent,r=[],s=[],n.forEach(function(){var t=Object(p.a)(f.a.mark((function t(c){var a,n,o,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.id," => ",c.data()),s.push("order/"+c.id+"/content"),a="order/"+c.id+"/content",n=Object(w.b)(e,a),t.next=6,Object(w.e)(n);case 6:o=t.sent,i=[],o.forEach((function(e){console.log(e.id," => ",e.data()),i.push({id:e.id,bfname:e.data().bfname,bfprice:e.data().bfprice,bfquantity:e.data().bfquantity})})),r.push({id:c.id,address:c.data().address,email:c.data().email,state:c.data().state,productsr:i}),b((function(e){return[].concat(Object(te.a)(e),[{id:c.id,address:c.data().address,email:c.data().email,cost:c.data().cost,state:c.data().state,productsr:i}])}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log("\u672a\u5b8c\u6210id:"+s),console.log(r),y(!1),O([].concat(s));case 12:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var k=Object(a.useState)(0),S=Object(j.a)(k,2),C=(S[0],S[1],n.a.useState(!1)),I=Object(j.a)(C,2),E=(I[0],I[1],Object(a.useState)(0)),q=Object(j.a)(E,2),W=(q[0],q[1],function(e){return"1"==e?Object(Q.jsx)(Ge.a,{severity:"success",children:"\u8a02\u55ae\u5df2\u9001\u9054"}):"2"==e?Object(Q.jsx)(Ge.a,{severity:"error",children:"\u8a02\u55ae\u5df2\u88ab\u53d6\u6d88"}):Object(Q.jsx)(Ge.a,{severity:"info",children:"\u8655\u7406\u8a02\u55ae\u4e2d"})}),B=function(){return Object(Q.jsx)(d.a,{children:i.map((function(e,t){return Object(Q.jsxs)(ze.a,{children:[Object(Q.jsx)(Le.a,{expandIcon:Object(Q.jsx)($e.a,{}),"aria-controls":"panel1a-content",id:t,children:Object(Q.jsxs)(Ie.a,{children:[e.email," ",(c=e.state,"2"==c?Object(Q.jsx)(K.c,{round:!0,color:"danger",children:"\u5df2\u53d6\u6d88"}):"0"==c?Object(Q.jsx)(K.c,{round:!0,color:"#2db7f5",children:"\u8655\u7406\u4e2d"}):Object(Q.jsx)(K.c,{round:!0,color:"#87d068",children:"\u5df2\u5b8c\u6210"}))]})}),W(e.state),Object(Q.jsxs)(Re.a,{children:[Object(Q.jsxs)("strong",{children:["\u5730\u5740\uff1a",e.address]}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("strong",{children:["\u7e3d\u91d1\u984d\uff1a",e.cost]}),Object(Q.jsx)(Ie.a,{children:e.productsr.map((function(e,t){return Object(Q.jsx)(Be.a,{primary:"\u54c1\u9805\uff1a"+e.bfname,secondary:"\u4efd\u6578\uff1a"+e.bfquantity})}))})]})]});var c}))})};return Object(Q.jsxs)(d.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(Q.jsx)(V,{}),Object(Q.jsx)(fe.a,{"aria-label":"employee list"}),v?Object(Q.jsx)(he.a,{}):Object(Q.jsx)(B,{})]})}function lt(){var e=Object(a.useState)(g),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(Q.jsx)(k.Provider,{value:{status:c,setStatus:n},children:Object(Q.jsx)(u.a,{children:Object(Q.jsxs)(l.c,{children:[Object(Q.jsx)(l.a,{path:"/",element:Object(Q.jsx)(jt,{})}),Object(Q.jsx)(l.a,{path:"/homepage",element:Object(Q.jsx)(Y,{})}),Object(Q.jsx)(l.a,{path:"/product",element:Object(Q.jsx)(qe,{})}),Object(Q.jsx)(l.a,{path:"/employee",element:Object(Q.jsx)(Fe,{})}),Object(Q.jsx)(l.a,{path:"/newpage",element:Object(Q.jsx)(Ve,{})}),Object(Q.jsx)(l.a,{path:"/complete",element:Object(Q.jsx)(Ke,{})}),Object(Q.jsx)(l.a,{path:"/userorder",element:Object(Q.jsx)(ut,{})})]})})})}var dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ot(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ft=Object(i.a)({palette:{primary:{main:"#ffdb4d"},secondary:{main:"#ffcc00"}}});s.a.render(Object(Q.jsx)(n.a.StrictMode,{children:Object(Q.jsx)(b.a,{theme:ft,children:Object(Q.jsx)(lt,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/final",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/final","/service-worker.js");dt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var a=c.headers.get("content-type");404===c.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ot(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ot(t,e)}))}}(),o()}},[[338,1,2]]]);
//# sourceMappingURL=main.e104b7c7.chunk.js.map